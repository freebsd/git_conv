# vi:ft=perl:
create repository freebsd-base.git
end repository

# ignore this stuff
match /ROADMAP.txt
end match
match /projects/GUIDELINES.txt
end match
match /projects/suj/rev.txt
end match
match /user/GUIDELINES.txt
end match
# Ignore the deletion of a bunch of .cvsignore from old branches, needlessly advancing them.
match /(?!head/)
min revision 250544
max revision 250544
end match
# Skip empty test-commit, that I'm unable to svnsync, maybe it's corrupted?
match /head/
min revision 179587
max revision 179587
end match
# Wrong import and back-out
match /head/
min revision 254686
max revision 254687
end match
# Skip bogus revision and the backout rev
match /projects/
min revision 244485
max revision 244485
end match
match /projects/
min revision 244487
max revision 244487
end match
match /svnadmin/
end match
# Skip branch creation and deletion at wrong level
match /user/bz/
min revision 262833
max revision 262834
end match
match /projects/arm_intrng/
min revision 269785
max revision 269786
end match
match /projects/cambria/
min revision 186004
max revision 186007
end match
match /projects/doctools/
min revision 306856
max revision 306858
end match

# cvs2svn sprayed several revisions all over the place, only to manufacture
# them back onto mainline. There is little value in these branches, especially
# the "unknown" or "unlabeled" ones. So instead make the commits appear on
# mainline in 1 go. This gives better authorship attribution and commit
# messages.
match /(cvs2svn/branches/tcpdump|cvs2svn/branches/unlabeled-1.1.1|vendor/unknown)/
  min revision 2
  max revision 2
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 3
  max revision 3
end match
match /(cvs2svn/branches/unlabeled-1.1.1|cvs2svn/branches/v_0_1_2_4|head|vendor/CSRG/dist|vendor/jthorpe/dist|vendor/unknown)/
  min revision 4
  max revision 4
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 5
  max revision 5
end match
match /(cvs2svn/branches/unlabeled-1.1.1|vendor/misc-GNU/dist[23])/
  min revision 9
  max revision 9
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2vn)/
  min revision 10
  max revision 11
end match
match /(cvs2svn/branches/unlabeled-1.1.1|vendor/unknown)/
  min revision 16
  max revision 16
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 17
  max revision 17
end match
match /cvs2svn/branches/unlabeled-1.1.1/
  min revision 28
  max revision 28
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 29
  max revision 29
end match
match /cvs2svn/branches/unlabeled-1.1.1/
  min revision 33
  max revision 33
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 34
  max revision 34
end match
match /(cvs2svn/branches/unlabeled-1.1.1|vendor/NetBSD/dist|vendor/unknown)/
  min revision 37
  max revision 37
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 38
  max revision 38
end match
match /cvs2svn/branches/man/
  min revision 103
  max revision 103
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 104
  max revision 104
end match
match /(cvs2svn/branches/unlabeled-1.1.1|vendor/unknown)/
  min revision 220
  max revision 220
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 221
  max revision 221
end match
match /(cvs2svn/branches/unlabeled-1.1.1)/
  min revision 327
  max revision 327
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 328
  max revision 328
end match
match /(cvs2svn/branches/unlabeled-1.1.1)/
  min revision 867
  max revision 867
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 868
  max revision 868
end match
match /cvs2svn/branches/att/
  min revision 943
  max revision 943
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 944
  max revision 944
end match
match /(cvs2svn/branches/unlabeled-1.1.1)/
  min revision 1022
  max revision 1022
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 1023
  max revision 1023
end match
match /(cvs2svn/branches/unlabeled-1.1.1|vendor/unknown)/
  min revision 1112
  max revision 1112
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 1113
  max revision 1113
end match
match /cvs2svn/branches/manctl_0_1/
  min revision 1366
  max revision 1366
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 1367
  max revision 1367
end match
# Inline the BSD 4.4 code drops, even though that steals some content from
# vendor branches like sendmail (the dist-old variant) or resolver or NetBSD.
match /head/
  min revision 1540
  max revision 1540
end match
match /head/
  min revision 1542
  max revision 1542
end match
match /head/
  min revision 1544
  max revision 1544
end match
match /(head|vendor/CSRG/dist|vendor/resolver/dist)/
  min revision 1539
  max revision 1543
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 1554
  max revision 1554
end match
match /head/
  min revision 1557
  max revision 1557
end match
match /head/
  min revision 1559
  max revision 1559
end match
match /head/
  min revision 1561
  max revision 1561
end match
match /(cvs2svn/branches/WIN_TUE_NL|head|vendor/CSRG/dist|vendor/NetBSD/dist|vendor/sendmail/dist-old)/
  min revision 1553
  max revision 1560
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 1574
  max revision 1574
end match
match /(cvs2svn/branches/unlabeled-1.1.1|head|vendor/CSRG/dist|vendor/OpenBSD/dist|vendor/bind4/dist)/
  min revision 1573
  max revision 1573
  repository freebsd-base.git
  branch master
end match
match /cvs2svn/branches/UofM_at_CP/
  min revision 1578
  max revision 1578
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 1579
  max revision 1579
end match
match /vendor/NetBSD/dist/
  min revision 1581
  max revision 1581
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 1582
  max revision 1582
end match
match /head/
  min revision 1591
  max revision 1591
end match
match /head/
  min revision 1593
  max revision 1593
end match
match /head/
  min revision 1595
  max revision 1595
end match
match /(cvs2svn/branches/CHRISTOS|cvs2svn/branches/bsd|head|vendor/CSRG/dist|vendor/NetBSD/dist|vendor/OpenBSD/dist|vendor/file/dist)/
  min revision 1590
  max revision 1594
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 1639
  max revision 1639
end match
match /(head|vendor/CSRG/dist|vendor/tzdata/dist)/
  min revision 1638
  max revision 1638
  repository freebsd-base.git
  branch master
end match
match /vendor/CSRG/(bsd_44_lite(_2)?|MCKUSICK2?)/
end match
match /cvs2svn/tags/bsd_44_lite2/
end match
match /(vendor/CSRG/dist|vendor/sendmail/dist-old)/
  min revision 6647
  max revision 6647
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 6648
  max revision 6649
end match
match /vendor/sendmail/dist-old/
  min revision 6653
  max revision 6653
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 6654
  max revision 6654
end match
match /cvs2svn/branches/bsd/
  min revision 7528
  max revision 7528
end match
match /vendor/CSRG/
  min revision 9337
  max revision 9337
end match
#match /vendor/CSRG/
#  min revision 9337
#  max revision 11152
#end match
#match /vendor/CSRG/
#  min revision 13429
#  max revision 13429
#end match
match /vendor/CSRG/dist/lib/libc/db/(btree/(bt_close|bt_open)|hash/(hash|hash_page|ndbm)|mpool/mpool|recno/(rec_put|rec_search|rec_seq)|test/dbtest).[ch]
  min revision 14272
  max revision 14272
end match
match /vendor/CSRG/dist/
  min revision 14272
  max revision 14272
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn|vendor)/
  min revision 14273
  max revision 14275
end match
match /vendor/(CSRG|NetBSD)/dist/libexec/getty/gettytab.5
  min revision 15100
  max revision 15100
end match
match /vendor/(CSRG|NetBSD)/dist/
  min revision 15100
  max revision 15100
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 15101
  max revision 15101
end match
# stray file went off to OpenBSD land ...
match /vendor/(CSRG|OpenBSD)/dist/
  min revision 23658
  max revision 23658
  repository freebsd-base.git
  branch vendor/CSRG/dist
end match
match /vendor/CSRG/dist/
  min revision 23715
  max revision 23715
end match

# the import into bind4 would actually revert the import done in r13304 and
# revert files to an older state, so what's the point?
match /vendor/(bind4|CSRG)/dist/
  min revision 27180
  max revision 27180
  repository freebsd-base.git
  branch vendor/CSRG/dist
end match

match /vendor/CSRG/dist/usr.bin/tn3270/Makefile
  min revision 27237
  max revision 27237
end match
match /(cvs2svn/branches/unlabeled-1.1.1|vendor/CSRG/dist)/
  min revision 27237
  max revision 27237
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 27238
  max revision 27238
end match

# Let these files live in CSRG, they otherwise clobber some files that are
# already newer in the NetBSD and OpenBSD trees!
match /vendor/(CSRG|NetBSD|OpenBSD|file)/dist/
  min revision 27241
  max revision 27241
  repository freebsd-base.git
  branch vendor/CSRG/dist
end match

match /(cvs2svn/branches/WIN_TUE_NL|vendor/CSRG/dist|vendor/NetBSD/dist)/
  min revision 27850
  max revision 27850
  repository freebsd-base.git
  branch vendor/CSRG/dist
end match

# don't record the file death here, *if* it was the last commit to that branch
# this helps out list_short_merges.sh to find branches that we want to splice
# into the mainline
# TODO: redo this for all files that we've inlined into main :/
match /(cvs2svn/branches/(ATT|EBONES_KRB4|NOORDMARK|ORIG|SGC|WST|ache|att|bootparamd|cron|crunch|ipfw|libftp|lwall|man|marc|nvi|ross_ridge|savio_lam|v_0_1_2_4|voxware|xten|zmbenhal)|vendor/tzdata/dist)/
  min revision 13122
  max revision 13122
  repository freebsd-base.git
  branch master
end match
match /cvs2svn/branches/(HUGH_F_MAHON|ATT|NOORDMARK|ORIG|SGC|WST|att|bootparamd|cron|crunch|libftp|lwall|man|marc|nvi|v_0_1_2_4|voxware)/
  min revision 13122
  max revision 13122
end match
match /vendor/unknown/
  min revision 13122
  max revision 13122
end match
# don't delete the tags, it only moves them from cvs2svn to backups
match /cvs2svn/
  min revision 260580
  max revision 260580
end match

# Don't let ppp appear before this revision. 5.x never had it, SVN is lying.
match /(head|stable/5|releng/5..)/etc/rc.d/ppp$
  max revision 151840
end match
match /head/
  min revision 151841
  max revision 151841
  rename etc/rc.d/ppp-user etc/rc.d/ppp
  repository freebsd-base.git
  branch master
end match
# this is the old file deletion, which we now need to skip as we've done the
# move above. Doing it this way allows git blame to work properly.
match /head/
  min revision 151844
  max revision 151844
end match
# NOTE: release 5.x ISOs as on the ftp archive are fake and have both files.
# 5.5 seems a true archive copy of the ISO though and *doesn't* have the new
# file again.
match /stable/6/etc/rc.d/ppp$
  max revision 154656
end match
match /(stable)/(6)/
  min revision 154657
  max revision 154657
  rename etc/rc.d/ppp-user etc/rc.d/ppp
  repository freebsd-base.git
  branch \1/\2
end match

# NOTE ATTENTION ACHTUNG: I'm working my way backwards through all the
# revisions that pulled in stuff from /cvs2svn/branches into head and see if
# they can't be patched up better. So far, it seems that the later ones were
# either mistakes or one-offs that could well just have been regular commits
# into head to begin with. Some look like bogus "fell of the vendor branch"
# issues in CVS.

# Some cvs2svn tags/branches are basically vendor branches with only a small
# subset of the files. This can confuse `git subtree`, so snip off their
# parent, making them stand alone vendor branches.

# utter nonsense
match /cvs2svn/branches/BRANCH_1_0/
end match
match /cvs2svn/tags/FINAL_1_0_2/
end match
match /cvs2svn/branches/Makefile/
end match
match /vendor/NetBSD/dist/
  min revision 3585
  max revision 3585
end match
match /cvs2svn/branches/MATT_THOMAS/
  min revision 7056
  max revision 7056
end match
match /cvs2svn/branches/unlabeled-1.1.1/
  min revision 7022
  max revision 7022
end match
# some easy-import.pl <-> easy-import.perl repo move fallout
match /cvs2svn/branches/unlabeled-1.1.1/
  min revision 7514
  max revision 7514
end match
match /cvs2svn/branches/(AMANCIO|voxware)/
  min revision 1257
  max revision 1401
end match
match /cvs2svn/branches/unlabeled-1.1.1/
  min revision 28418
  max revision 28418
end match
match /cvs2svn/branches/(JB|jb)/
  min revision 32410
  max revision 32418
end match
match /vendor/resolver/dist/
  min revision 36889
  max revision 36889
end match
match /vendor/resolver/dist/
  min revision 157309
  max revision 157309
end match
match /cvs2svn/branches/WIP_GCC31/
  min revision 85743
  max revision 85743
end match
match /cvs2svn/branches/ANDREW_LOCKD/
  min revision 86320
  max revision 86320
end match
# I cannot find any evidence that this was ever merged back
match /cvs2svn/branches/JULIAN_HACK/
end match
# ditto
match /cvs2svn/branches/WHISTLE_SIO_RFC/
end match
# has 1 commit to alpha's cons and diskslice files, lolwut?
match /cvs2svn/(branches/kame|tags/kame_33_19991101)/
end match
# random tag for syscons/keymaps
match /cvs2svn/branches/CVS/
end match
# CVS lock improvements, never merged back?
match /cvs2svn/branches/jt_spdup/
end match
match /cvs2svn/tags/(b4_spdup|cronxy_2_4)/
end match
match /cvs2svn/branches/unlabeled-(1\.1\.1\.1\.6|1\.2\.4)/
end match
match /cvs2svn/branches/unlabeled-1\.2\.[46]/
end match
match /cvs2svn/branches/unlabeled-1\.[13]4\.4/
end match
# this drops r4731 which propably can't be saved anyway
match /cvs2svn/branches/unlabeled-1\.1[0346789]\.2/
end match
match /cvs2svn/branches/unlabeled-1\.[123456789]\.2/
end match
match /cvs2svn/branches/unlabeled-1\.(12|19|20|23|27|30|45)\.2/
end match
match /cvs2svn/branches/unlabeled-1\.[34569]\.4/
end match
match /cvs2svn/branches/unlabeled-1\.12\.4/
end match

# unlabeled mess, I guess a result from repo-copies and moves
#
# has 1 change to sys/powerpc/conf/GENERIC
match /cvs2svn/branches/unlabeled-1.42.2/
end match
# 2 MFCs for powerpc
match /cvs2svn/branches/unlabeled-1.47.2/
end match
# 1 more powerpc MFC
match /cvs2svn/branches/unlabeled-1.75.2/
end match
# misc
match /cvs2svn/branches/unlabeled-(1\.1\.2\.122\.2|1\.182\.2)/
end match
# lots of MFCs to stable for syscons
match /cvs2svn/branches/unlabeled-(1\.182\.2|1\.117\.4|1\.35\.2)/
end match
match /cvs2svn/branches/unlabeled-1.23.2/
  min revision 19124
end match
# ldconfig MFCs
match /cvs2svn/branches/unlabeled-1.15.2/
end match
match /cvs2svn/branches/unlabeled-[0-9.]*/sbin/ldconfig/
end match
# csup stuff
match /cvs2svn/branches/unlabeled-1\.1\.4/
end match
match /cvs2svn/
  min revision 9722
  max revision 9723
end match
match /cvs2svn/
  min revision 10849
  max revision 10849
end match
# sysinstall and FAQ?
match /cvs2svn/branches/unlabeled-1\.13\.4/
end match

# 3 commits on UDEL, which is xntpd stuff
match /(vendor/ntpd/dist|cvs2svn/branches/UDEL)/
  min revision   893
  max revision 13122  #  893, 1081, and 13122 affected
  repository freebsd-base.git
  branch vendor/ntpd/dist
end match

# merge *all* games into mainline
match /(vendor/games/dist|cvs2svn/branches/unlabeled-1.1.1)/
  min revision  2490
  max revision  2490
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 2491
  max revision 2491
end match
match /(vendor/games/dist|cvs2svn/branches/unlabeled-1.1.1)/
  min revision  4922
  max revision  4922
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 4923
  max revision 4924
end match
match /(vendor/games/dist|cvs2svn/branches/unlabeled-1.1.1)/
  min revision  4974
  max revision  4974
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 4975
  max revision 4976
end match
match /(vendor/games/dist|cvs2svn/branches/unlabeled-1.1.1)/
  min revision  8136
  max revision  8136
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 8137
  max revision 8138
end match
match /(vendor/games/dist|cvs2svn/branches/unlabeled-1.1.1)/
  min revision 13122
  max revision 13122
  repository freebsd-base.git
  branch master
end match
# avoid some files that were later committed after merge conflicts were resolved.
match /vendor/games/dist/games/(factor/factor.c|number/number.c|primes/primes.c|quiz/Makefile|quiz/quiz.c)
  min revision 23704
  max revision 23704
end match
match /head/
  min revision 23705
  max revision 23705
end match
match /vendor/games/dist/
  min revision 23758
  max revision 23758
end match
match /vendor/games/dist/
  repository freebsd-base.git
  branch master
end match

# This is basically a pppd branch
match /cvs2svn/branches/MACKERAS/
  min revision 3010
  max revision 3010
  # files will come back with r3012 and a better commit message.
end match
# both manufactured commits obsoleted by r3068 with the right commit message
match /(cvs2svn/branches/MACKERAS|vendor/pppd/dist)/
  min revision 3066
  max revision 3067
end match
match /(cvs2svn/branches/MACKERAS|vendor/pppd/pppstats)/
  min revision 4383
  max revision 4384
end match
match /cvs2svn/branches/chat/
  min revision 4377
  max revision 4377
end match
match /(vendor/pppd/dist|cvs2svn/branches/MACKERAS)/
  min revision 11981
  max revision 11981
  repository freebsd-base.git
  branch vendor/pppd/dist
  delete usr.sbin/pppd/lock.c
  delete usr.sbin/pppd/sys-linux.c
  delete usr.sbin/pppd/sys-str.c
  delete usr.sbin/pppd/sys-ultrix.c
end match
match /(vendor/pppd/dist|cvs2svn/branches/MACKERAS|cvs2svn/branches/chat)/
  min revision 3011
  repository freebsd-base.git
  branch vendor/pppd/dist
  branchpoint none
end match
match /(cvs2svn)/(branches)/(unlabeled-1.1.1)/
  min revision 4374
  max revision 4374
  repository freebsd-base.git
  branch vendor/pppd/dist  # sic, this is all about pppd
  branchpoint none
end match

# retain XEROX as vendor/mrouted
# NOTE: we cannot splice it in, as the cvs2svn merge to head only picked a few
# files off the original commit, and then there was a "fix conflict" commit
# afterwards. We could still do it, but the import would clobber all our
# changes and the "fix conflicts" commit would bring them all back.
match /cvs2svn/branches/XEROX/
  repository freebsd-base.git
  branch vendor/mrouted/dist
end match
match /cvs2svn/tags/MULTICAST_3_3/
  repository freebsd-base.git
  branch refs/tags/vendor/mrouted/3.3
  annotated true
end match
match /cvs2svn/tags/release_3_6/
  repository freebsd-base.git
  branch refs/tags/vendor/mrouted/3.6
  annotated true
end match
match /cvs2svn/tags/release_3_8/
  repository freebsd-base.git
  branch refs/tags/vendor/mrouted/3.8
  annotated true
end match
match /cvs2svn/tags/mtrace_5_1/
  repository freebsd-base.git
  branch refs/tags/vendor/mrouted/mtrace-5.1
  annotated true
end match
match /cvs2svn/tags/mtrace_5_2/
  repository freebsd-base.git
  branch refs/tags/vendor/mrouted/mtrace-5.2
  annotated true
end match
match /cvs2svn/tags/mrouted_3_9_beta3_ios12/
  repository freebsd-base.git
  branch refs/tags/vendor/mrouted/3.9-beta3
  annotated true
end match
# ditto for rarpd from LBL
match /cvs2svn/branches/LBL/
  repository freebsd-base.git
  branch vendor/rarpd/dist
end match
match /cvs2svn/tags/rarpd-orig/
  repository freebsd-base.git
  branch refs/tags/vendor/rarpd/1.0
  annotated true
end match
match /cvs2svn/tags/rarpd_1_1/
  repository freebsd-base.git
  branch refs/tags/vendor/rarpd/1.1
  annotated true
end match
# ditto for rpcgen from SUN, but we also skip the fork from head
match /cvs2svn/branches/SUNRPC/
  min revision 1898
  max revision 1898
end match
match /cvs2svn/branches/SUNRPC/
  min revision 12795
  max revision 12795
  repository freebsd-base.git
  branch vendor/rpcgen/dist
end match
match /cvs2svn/tags/rpcgen_2_3/
  min revision 12797
  max revision 12797
  branch refs/tags/vendor/rpcgen/2.3
  annotated true
end match

# import and tags of ee
match /cvs2svn/branches/HUGH_F_MAHON/
  min revision 10475
  max revision 10475
end match
match /cvs2svn/branches/HUGH_F_MAHON/
  repository freebsd-base.git
  branch vendor/ee/dist
end match
match /cvs2svn/tags/ee/
  repository freebsd-base.git
  branch refs/tags/vendor/ee/1.2.4
  annotated true
end match
match /cvs2svn/tags/ee_1_3/
  repository freebsd-base.git
  branch refs/tags/vendor/ee/1.3
  annotated true
end match
match /cvs2svn/tags/ee_1_4_1/
  repository freebsd-base.git
  branch refs/tags/vendor/ee/1.4.1
  annotated true
end match
# Need to remove old stuff when the new SVN version hits the tree
match /(vendor)/(ee)/(dist)/
  min revision 192830
  max revision 192830
  repository freebsd-base.git
  branch \1/\2/\3
  delete usr.bin/ee
end match

# garbage groff vestiges in branches/PST
match /cvs2svn/
  min revision 18139
  max revision 18141
end match

# put nvi into /vendor
match /cvs2svn/branches/nvi/
  repository freebsd-base.git
  branch vendor/nvi/dist
end match
match /cvs2svn/tags/nvi_1_32/
  repository freebsd-base.git
  branch refs/tags/vendor/nvi/1.32
  annotated true
end match
# let the tag creation flow into dist, we loose the tag, but get some history.
# Sadly, this creates a backup tag that we then need to delete
match /cvs2svn/tags/nvi_1_34_final/
  repository freebsd-base.git
  branch vendor/nvi/dist
  branchpoint vendor/nvi/dist@17806
end match
match /vendor/nvi/dist/
  min revision 19304
  max revision 19304
  repository freebsd-base.git
  branch vendor/nvi/dist
  delete usr.bin/vi
end match

# JPO is xlint
match /cvs2svn/branches/JPO/
  repository freebsd-base.git
  branch vendor/NetBSD/xlint/dist
end match
match /cvs2svn/tags/v1_3/
  repository freebsd-base.git
  branch refs/tags/vendor/NetBSD/xlint/1.3
  annotated true
end match
match /cvs2svn/tags/v_2002_3_3/
  repository freebsd-base.git
  branch refs/tags/vendor/NetBSD/xlint/2002-03-03
  annotated true
end match
match /cvs2svn/tags/v_2002_7_19/
  repository freebsd-base.git
  branch refs/tags/vendor/NetBSD/xlint/2002-07-19
  annotated true
end match
# NOTE: r280454 "copies" this in SVN but from an age old rev, skip it.
match /vendor/NetBSD/xlint/
  min revision 280454
  max revision 280454
end match

# ANDREW_LOCKD has just 3 files with changes, they were apparently merged into
# head with r87096, but not recorded as an actual merge. Fix that.
match /head/
  min revision 87096
  max revision 87096
  repository freebsd-base.git
  branch master
  branchpoint cvs2svn/branches/ANDREW_LOCKD@86641
end match
# record WIP_GCC31 as being merged here
match /head/
  min revision 96340
  max revision 96340
  repository freebsd-base.git
  branch master
  branchpoint cvs2svn/branches/WIP_GCC31@96339
end match

# These are basically the same thing
match /cvs2svn/branches/(AMANCIO|voxware)/
  repository freebsd-base.git
  branch vendor/voxware/dist
end match

# ebones kerberos stuff, all munged into mainline
match /(cvs2svn/branches/EBONES_KRB4|vendor-crypto/eBones/dist)/
  repository freebsd-base.git
  branch master
end match
match /(vendor/CSRG/dist|vendor-crypto/eBones/dist)/
  min revision 2047
  max revision 2050
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 1576
  max revision 1576
end match
match /(head|cvs2svn)/
  min revision 2048
  max revision 2048
end match
match /(head|cvs2svn|vendor-crypto)/
  min revision 2051
  max revision 2053
end match
match /(vendor/CSRG/dist|vendor-crypto/eBones/dist)/
  min revision 2316
  max revision 2316
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn|vendor-crypto)/
  min revision 2317
  max revision 2319
end match
match /(head|cvs2svn|vendor-crypto)/
  min revision 3238
  max revision 3240
end match
match /(head|cvs2svn|vendor-crypto)/
  min revision 9865
  max revision 9868
end match
match /(head|cvs2svn|vendor-crypto)/
  min revision 10765
  max revision 10770
end match

match /cvs2svn/branches/crunch/
  min revision 1722
  max revision 1722
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 1723
  max revision 1724
end match
match /cvs2svn/branches/SLSTAT_0/
  min revision 1752
  max revision 1752
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 1753
  max revision 1754
end match
match /cvs2svn/branches/ORIG/
  min revision 1802
  max revision 1814
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 1803
  max revision 1803
end match
match /(head|cvs2svn)/
  min revision 1815
  max revision 1816
end match
match /cvs2svn/branches/SUN/
  min revision 1905
  max revision 3248
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 1906
  max revision 1906
end match
match /head/
  min revision 3249
  max revision 3249
end match
match /cvs2svn/branches/Burren/
  min revision 1956
  max revision 1956
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 1957
  max revision 1958
end match
match /cvs2svn/branches/natecrypt/
  min revision 1984
  max revision 1984
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 1985
  max revision 1986
end match
match /cvs2svn/branches/msun/
  min revision 2116
  max revision 2116
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 2117
  max revision 2118
end match
match /cvs2svn/branches/cron/
  min revision 2311
  max revision 2311
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 2312
  max revision 2313
end match
match /cvs2svn/branches/FBSD_1/
  min revision 2334
  max revision 2347
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 2335
  max revision 2339
end match
match /(head|cvs2svn)/
  min revision 2342
  max revision 2348
end match
match /(head|cvs2svn)/
  min revision 2472
  max revision 2472
end match

match /cvs2svn/branches/WST_SE/
  min revision 2432
  max revision 2432
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 2433
  max revision 2434
end match
match /cvs2svn/branches/WST_SE/
  min revision 2528
  max revision 2528
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 2529
  max revision 2530
end match
match /cvs2svn/branches/Rehmet/
  min revision 2470
  max revision 2470
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 2471
  max revision 2471
end match
match /cvs2svn/branches/FBSD_1_intl/
  min revision 2546
  max revision 2546
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 2547
  max revision 2548
end match
match /cvs2svn/branches/lwall/
  min revision 2635
  max revision 2635
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 2636
  max revision 2637
end match
match /cvs2svn/branches/phk/
  min revision 2849
  max revision 2849
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 2850
  max revision 2850
end match
match /cvs2svn/branches/phk/
  min revision 2886
  max revision 2886
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 2887
  max revision 2888
end match

match /cvs2svn/branches/WIN_TUE_NL/
  min revision 3192
  max revision 3192
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 3193
  max revision 3194
end match

match /(cvs2svn/branches/MC|vendor/NetBSD/dist)/
  min revision 3229
  max revision 3229
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 3230
  max revision 3230
end match
match /cvs2svn/branches/NOORDMARK/
  min revision 3245
  max revision 3245
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 3246
  max revision 3246
end match
match /cvs2svn/branches/ache/
  min revision 3762
  max revision 9946
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 3763
  max revision 3763
end match
match /head/
  min revision 9947
  max revision 9947
end match
match /cvs2svn/branches/(ache|unlabeled-1.1.1)/
  min revision 9958
  max revision 9958
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 9959
  max revision 9960
end match
match /cvs2svn/
  min revision 11698
  max revision 11698
end match

match /cvs2svn/branches/NOORDMARK/
  min revision 4311
  max revision 4311
end match
match /cvs2svn/branches/ross_ridge/
  min revision 3400
  max revision 3400
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 3401
  max revision 3401
end match

match /cvs2svn/branches/zmbenhal/
  min revision 3410
  max revision 3410
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 3411
  max revision 3412
end match
match /cvs2svn/branches/savio_lam/
  min revision 3430
  max revision 3430
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 3431
  max revision 3431
end match

match /cvs2svn/branches/ross_ridge/
  min revision 3462
  max revision 3462
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 3463
  max revision 3464
end match

match /cvs2svn/branches/WST/
  min revision 3545
  max revision 3545
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 3546
  max revision 3547
end match
match /cvs2svn/branches/savio_lam/
  min revision 3515
  max revision 3515
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 3516
  max revision 3517
end match

match /cvs2svn/branches/ours/
  min revision 3673
  max revision 3673
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 3674
  max revision 3674
end match
match /cvs2svn/branches/(xten|unlabeled-1.1.1)/
  min revision 3779
  max revision 3782
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 3780
  max revision 3780
end match
match /(head|cvs2svn)/
  min revision 3783
  max revision 3783
end match
match /cvs2svn/branches/xten/
  min revision 4312
  max revision 4312
end match
match /cvs2svn/branches/(ATT|unlabeled-1.1.1)/
  min revision 3900
  max revision 3904
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 3901
  max revision 3906
end match

match /cvs2svn/branches/(ipfw|unlabeled-1.1.1)/
  min revision 3965
  max revision 3965
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 3966
  max revision 3968
end match
match /cvs2svn/branches/PD/
  min revision 3995
  max revision 3995
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 3996
  max revision 3996
end match
match /cvs2svn/branches/jw/
  min revision 4007
  max revision 4007
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 4008
  max revision 4008
end match
match /cvs2svn/branches/jean_marc/
  min revision 4392
  max revision 4392
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 4393
  max revision 4394
end match
match /cvs2svn/branches/cronyx/
  min revision 4910
  max revision 4910
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 4911
  max revision 4912
end match
match /cvs2svn/branches/cronyx/
  min revision 25834
  max revision 25835
end match

match /cvs2svn/branches/SGC/
  min revision 5262
  max revision 5262
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 5263
  max revision 5264
end match
match /cvs2svn/branches/unlabeled-1.1.1/
  min revision 5425
  max revision 5425
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 5426
  max revision 5427
end match
match /cvs2svn/branches/sipb/
  min revision 5622
  max revision 5719
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 5623
  max revision 5623
end match
match /(head|cvs2svn)/
  min revision 5718
  max revision 5721
end match
match /cvs2svn/branches/(libpcap|unlabeled-1.1.1)/
  min revision 5739
  max revision 5739
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 5740
  max revision 5742
end match
match /cvs2svn/branches/scsi/
  min revision 5843
  max revision 5843
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 5844
  max revision 5845
end match
match /cvs2svn/branches/libscsi/
  min revision 5847
  max revision 5847
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 5848
  max revision 5849
end match
match /cvs2svn/branches/which/
  min revision 5887
  max revision 5887
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 5888
  max revision 5889
end match
match /cvs2svn/branches/R093/
  min revision 6053
  max revision 6059
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 6054
  max revision 6058
end match
match /(head|cvs2svn)/
  min revision 6060
  max revision 6061
end match
match /cvs2svn/branches/unlabeled-1.1.1/
  min revision 6199
  max revision 6199
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 6200
  max revision 6201
end match
match /cvs2svn/branches/mkisofs/
  min revision 6318
  max revision 6318
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 6319
  max revision 6320
end match
# 2nd and last import in r11646 is using a vendor branch properly :/

match /cvs2svn/branches/isdn/
  min revision 6407
  max revision 6407
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 6408
  max revision 6409
end match
match /cvs2svn/branches/craig_metz/
  min revision 6448
  max revision 6448
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 6449
  max revision 6450
end match
match /cvs2svn/branches/marc/
  min revision 6462
  max revision 6462
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 6463
  max revision 6464
end match
match /cvs2svn/branches/(alex|unlabeled-1.1.1)/
  min revision 6527
  max revision 6527
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 6528
  max revision 6529
end match
match /cvs2svn/branches/bootparamd/
  min revision 6751
  max revision 6751
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 6752
  max revision 6753
end match
# look, this vendor branch is a stub only, so we inline this liberally.
match /vendor/sendmail/dist-old/usr.sbin/sendmail/src/(conf|daemon|deliver|domain).c
  min revision 6973
  max revision 6973
end match
match /vendor/sendmail/dist-old/
  min revision 6973
  max revision 6973
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 6974
  max revision 6974
end match
match /vendor/sendmail/dist-old/usr.sbin/sendmail/src/(conf|daemon|deliver|readcf).c
  min revision 10088
  max revision 10088
end match
match /vendor/sendmail/dist-old/
  min revision 10088
  max revision 10088
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 10089
  max revision 10089
end match
match /cvs2svn/branches/InterNIC/
  min revision 7270
  max revision 7270
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 7271
  max revision 7272
end match
match /cvs2svn/branches/mark_murray/
  min revision 7283
  max revision 7283
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 7284
  max revision 7285
end match
match /cvs2svn/branches/unlabeled-1.1.1/
  min revision 7302
  max revision 7302
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 7303
  max revision 7303
end match
match /cvs2svn/branches/libftp/
  min revision 8064
  max revision 8064
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 8065
  max revision 8066
end match
match /cvs2svn/branches/unlabeled-1.1.1/
  min revision 8097
  max revision 8097
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 8098
  max revision 8099
end match
match /cvs2svn/branches/jfieber/
  min revision 8100
  max revision 8397
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 8101
  max revision 8102
end match
match /(head|cvs2svn)/
  min revision 8130
  max revision 8131
end match
match /(head|cvs2svn)/
  min revision 8395
  max revision 8395
end match
match /(head|cvs2svn)/
  min revision 8398
  max revision 8399
end match

match /cvs2svn/branches/roberto/
  min revision 8132
  max revision 8132
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 8133
  max revision 8134
end match
match /cvs2svn/branches/wosch/
  min revision 9316
  max revision 9316
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 9317
  max revision 9317
end match
match /cvs2svn/branches/ACHE/
  min revision 11696
  max revision 11696
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 11697
  max revision 11698
end match

# NOTE: this one has commits we can inline directly, but also some we can't.
# Also, there's an extra /dist or /dist2
match /cvs2svn/branches/WPAUL/dist2?/
  min revision 11814
  max revision 13394
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 11815
  max revision 11816
end match
match /(head|cvs2svn)/
  min revision 12892
  max revision 12893
end match
match /(head|cvs2svn)/
  min revision 13008
  max revision 13009
end match
match /(head|cvs2svn)/
  min revision 13395
  max revision 13396
end match
match /cvs2svn/branches/WPAUL/dist/
  min revision 13397
  max revision 13397
  repository freebsd-base.git
  branch cvs2svn/branches/WPAUL
end match

match /cvs2svn/branches/WPAUL/dist/
  min revision 14062
  max revision 16728
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 14063
  max revision 14064
end match
match /(head|cvs2svn)/
  min revision 15424
  max revision 15425
end match
match /head/
  min revision 16120
  max revision 16120
end match
match /(head|cvs2svn)/
  min revision 16126
  max revision 16127
end match
match /(head|cvs2svn)/
  min revision 16729
  max revision 16730
end match

match /cvs2svn/branches/WPAUL/dist/
  min revision 26206
  max revision 26219
  repository freebsd-base.git
  branch cvs2svn/branches/WPAUL
end match

match /cvs2svn/branches/WPAUL/dist/
  min revision 26234
  max revision 26244
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 26235
  max revision 26246
end match

match /cvs2svn/branches/MARKM/
  min revision 11876
  max revision 11876
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 11877
  max revision 11878
end match
match /cvs2svn/branches/JOERG/
  min revision 12102
  max revision 76589
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 12103
  max revision 12103
end match
match /head/
  min revision 13653
  max revision 13653
end match
match /head/
  min revision 29545
  max revision 29545
end match
match /head/
  min revision 30303
  max revision 30303
end match
match /(head|cvs2svn)/
  min revision 41981
  max revision 41982
end match
match /(head|cvs2svn)/
  min revision 76590
  max revision 76591
end match

match /cvs2svn/branches/JHAY/
  min revision 12437
  max revision 12441
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 12438
  max revision 12439
end match
match /(head|cvs2svn)/
  min revision 12442
  max revision 12443
end match

match /cvs2svn/branches/FREEBSD_LOCAL/
  min revision 13022
  max revision 13022
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 13023
  max revision 13024
end match
match /cvs2svn/branches/FREEBSD/
  min revision 13044
  max revision 13049
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 13045
  max revision 13045
end match
match /(head|cvs2svn)/
  min revision 13048
  max revision 13051
end match

# skip that 1 file modification here, it was not put onto head.
match /cvs2svn/branches/MC/libexec/bootpd/bootpd.8
  min revision 13572
  max revision 13572
end match
match /cvs2svn/branches/MC/
  min revision 13569
  max revision 13572
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 13570
  max revision 13570
end match
match /(head|cvs2svn)/
  min revision 13573
  max revision 13574
end match
match /cvs2svn/branches/TRAINA/
  min revision 13899
  max revision 28263
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 13900
  max revision 13900
end match
match /(head|cvs2svn)/
  min revision 14307
  max revision 14308
end match
match /(head|cvs2svn)/
  min revision 14641
  max revision 14642
end match
match /head/
  min revision 25148
  max revision 25148
end match
match /head/
  min revision 25150
  max revision 25150
end match
match /head/
  min revision 28264
  max revision 28264
end match

# Two commits
match /cvs2svn/branches/A_GORDON/
  min revision 14123
  max revision 14125
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 14124
  max revision 14127
end match
match /cvs2svn/branches/MIT/
  min revision 14895
  max revision 14895
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 14896
  max revision 14897
end match
match /cvs2svn/branches/ERICH/
  min revision 16314
  max revision 16314
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 16315
  max revision 16316
end match
match /cvs2svn/branches/PC98/
  min revision 16359
  max revision 16359
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 16360
  max revision 16361
end match
match /cvs2svn/branches/FREEBSD/
  min revision 16420
  max revision 16420
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 16421
  max revision 16422
end match

match /cvs2svn/branches/NRL_via_MIT/
  min revision 16449
  max revision 16449
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 16450
  max revision 16451
end match
match /cvs2svn/branches/JMZ/
  min revision 16504
  max revision 16504
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 16505
  max revision 16506
end match
match /cvs2svn/branches/GHELMER/
  min revision 17073
  max revision 17073
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 17074
  max revision 17074
end match
match /cvs2svn/branches/JFIEBER/
  min revision 18145
  max revision 18148
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 18146
  max revision 18146
end match
match /head/
  min revision 18149
  max revision 18149
end match

match /(cvs2svn/branches/CHRISTOS|vendor/CSRG/dist)/
  min revision 18756
  max revision 18756
  repository freebsd-base.git
  branch vendor/NetBSD/bmake/dist
end match
match /cvs2svn/branches/CHRISTOS/
  min revision 18731
  max revision 27241
  repository freebsd-base.git
  branch vendor/NetBSD/bmake/dist
end match
match /vendor/NetBSD/bmake/dist/
  min revision 236769
  max revision 236769
  repository freebsd-base.git
  branch vendor/NetBSD/bmake/dist
  delete usr.bin/make
end match

match /cvs2svn/branches/GIBBS/
  min revision 18781
  max revision 18781
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 18782
  max revision 18783
end match
match /cvs2svn/branches/WOLLMAN/
  min revision 19102
  max revision 19102
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 19103
  max revision 19103
end match
match /cvs2svn/branches/DOC_JP/
  min revision 19754
  max revision 19754
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 19755
  max revision 19756
end match
match /cvs2svn/branches/DAVIDN/
  min revision 20253
  max revision 20253
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 20254
  max revision 20254
end match
match /cvs2svn/branches/DAVIDN/(usr.sbin/pw/pw.8)
  min revision 20267
  max revision 20302
end match
match /cvs2svn/branches/DAVIDN/
  min revision 20267
  max revision 21923
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 20268
  max revision 20268
end match
match /(head|cvs2svn)/
  min revision 20303
  max revision 20304
end match
match /head/
  min revision 21924
  max revision 21924
end match

match /cvs2svn/branches/DEERING/
  min revision 20529
  max revision 20529
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 20530
  max revision 20530
end match
match /cvs2svn/branches/TEKRAM/
  min revision 20537
  max revision 20537
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 20538
  max revision 20539
end match
match /cvs2svn/branches/JMACD/
  min revision 21503
  max revision 21503
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 21504
  max revision 21505
end match
match /cvs2svn/branches/MSMITH/
  min revision 21183
  max revision 59138
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 21184
  max revision 21185
end match
match /(head|cvs2svn)/
  min revision 21913
  max revision 21913
end match
match /(head|cvs2svn)/
  min revision 26006
  max revision 26006
end match
match /(head|cvs2svn)/
  min revision 31696
  max revision 31696
end match
match /(head|cvs2svn)/
  min revision 38452
  max revision 38452
end match
match /(head|cvs2svn)/
  min revision 38466
  max revision 38466
end match
match /(head|cvs2svn)/
  min revision 45411
  max revision 45411
end match
match /(head|cvs2svn)/
  min revision 59139
  max revision 59140
end match
match /cvs2svn/branches/JDP/
  min revision 21439
  max revision 21439
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 21440
  max revision 21440
end match

# Need to block 2 files that didn't hit head as-is
match /cvs2svn/branches/MATT_THOMAS/(sys/netinet/if_fddi.h|sys/net/if_fddisubr.c)
  min revision 21826
  max revision 21826
end match
match /cvs2svn/branches/MATT_THOMAS/
  min revision 21826
  max revision 21826
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 21827
  max revision 21828
end match

# Several useful commits, put their commit message directly onto head
match /cvs2svn/branches/RNORDIER/
  min revision 21918
  max revision 48909  # sic!
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 21919
  max revision 21920
end match
match /head/
  min revision 37447
  max revision 37447
end match
match /(head|cvs2svn)/
  min revision 39089
  max revision 39090
end match
match /head/
  min revision 39093
  max revision 39093
end match
match /head/
  min revision 39974
  max revision 39974
end match
match /head/
  min revision 40270
  max revision 40270
end match
match /head/
  min revision 44197
  max revision 44197
end match
match /head/
  min revision 47472
  max revision 47472
end match
match /head/
  min revision 48906
  max revision 48906
end match
match /(head|cvs2svn)/
  min revision 48908
  max revision 48909
end match

match /cvs2svn/branches/PST/
  min revision 22375
  max revision 22381
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 22376
  max revision 22383
end match
match /(head|cvs2svn)/
  min revision 22383
  max revision 22383
end match
match /cvs2svn/branches/PST/
  min revision 28112
  max revision 28114
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 28113
  max revision 28115
end match

match /cvs2svn/branches/FREEBSD/
  min revision 24143
  max revision 24143
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 24144
  max revision 24145
end match

match /cvs2svn/branches/unlabeled-1.1.1/
  min revision 27159
  max revision 27159
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 27160
  max revision 27160
end match
match /cvs2svn/branches/MARKM/
  min revision 29815
  max revision 29815
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 29816
  max revision 29817
end match

match /cvs2svn/branches/HELBIG/
  min revision 31529
  max revision 31744
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 31530
  max revision 31530
end match
match /head/
  min revision 31745
  max revision 31745
end match
match /cvs2svn/branches/JDP/
  min revision 33975
  max revision 33975
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 33976
  max revision 33977
end match
match /cvs2svn/branches/JDP/
  min revision 34192
  max revision 34192
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 34193
  max revision 34193
end match
match /cvs2svn/branches/JDP/
  min revision 34198
  max revision 34198
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 34199
  max revision 34200
end match

# NOTE: r34368 brings in many more files, so we block the ones not hitting head.
match /cvs2svn/branches/JB/sys/alpha/include/([acfs].*|endian|intr|limits|pal|param|types|varargs).h
  min revision 34368
  max revision 34368
end match
match /cvs2svn/branches/JB/
  min revision 34336
  max revision 34368
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 34337
  max revision 34338
end match
match /head/
  min revision 34369
  max revision 34369
end match
match /cvs2svn/branches/JB/
  min revision 34375
  max revision 34375
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 34376
  max revision 34377
end match
match /cvs2svn/branches/jb/
  min revision 34452
  max revision 34484
  repository freebsd-base.git
  branch master
end match
# NOTE: about r34484, we bring 2 extra files into head, that are not there in
# SVN. They are being "resurrected" in r34488 about 12 minutes later. They are
# also still referenced in the Makefile, so it seems that the tree was broken
# in that instant, basically.
match /head/
  min revision 34453
  max revision 34453
end match
match /head/
  min revision 34485
  max revision 34485
end match
match /head/
  min revision 34488
  max revision 34488
end match

match /cvs2svn/branches/PETER/
  min revision 34448
  max revision 34448
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 34449
  max revision 34450
end match

# This one is tricky, there are some extra files under sys imported here, and
# patched up with r23452 about 6 minutes later. Which means, we can ignore them
# on the branch and only take what hit head/
match /vendor/jthorpe/dist/sys/
  min revision 23449
  max revision 23449
end match
match /vendor/jthorpe/dist/
  min revision 23449
  max revision 23449
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 23450
  max revision 23450
end match
match /cvs2svn/branches/GLOBAL/
  min revision 24959
  max revision 24959
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 24960
  max revision 24961
end match
match /cvs2svn/branches/CRANOR/
  min revision 25603
  max revision 25605
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 25604
  max revision 25606
end match

match /cvs2svn/branches/CMOTT/
  min revision 26026
  max revision 26026
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 26027
  max revision 26028
end match
match /cvs2svn/branches/ARI/
  min revision 26781
  max revision 26781
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 26782
  max revision 26783
end match
match /cvs2svn/branches/POWERDOG/
  min revision 28019
  max revision 28019
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 28020
  max revision 28020
end match
# we have 2 identical vendor branches, one under vendor, the other under
# vendor-crypto. They have different subdirs though. There's also just 1 commit
# on each of them, just inline them.
match /vendor(-crypto)?/telnet/dist/
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 29089
  max revision 29089
end match
match /vendor(-crypto)?/telnet/95-10-23/
  min revision 29090
  max revision 29091
end match
match /cvs2svn/branches/LUIGI/
  min revision 29415
  max revision 29415
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 29416
  max revision 29417
end match
match /vendor/pnpinfo/960505luigi/
end match
match /vendor/pnpinfo/dist/
  min revision 29615
  max revision 29615
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 29616
  max revision 29617
end match
# a diff file, put it in the vendor area and delete it with a later revision
match /cvs2svn/branches/unlabeled-1.1.1/
  min revision 30839
  max revision 30839
end match

match /cvs2svn/branches/IWAI/
  min revision 32345
  max revision 32345
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 32346
  max revision 32347
end match

# obsolete by r34759
match /cvs2svn/branches/unlabeled-1.1.1/
  min revision 34758
  max revision 34758
end match

# Need to snip off history. Also, this wasn't ever properly recorded as a
# merge, manual searching for it finds r36285 as the merge commit into head.
# Record this as a proper git merge.
match /cvs2svn/branches/MP/
  min revision 32861
  max revision 32861
  repository freebsd-base.git
  branch cvs2svn/branches/MP
  # git show -s --format=none@%T `git log --format=%h --notes -n1 --grep='revision=32861$'\~1 cvs2svn/branches/MP`
  branchpoint none@833e82298a1f94b4fef78d3aaeb26dd776fb53c7
end match
match /head/
  min revision 36285
  max revision 36285
  repository freebsd-base.git
  branch master
  branchpoint cvs2svn/branches/MP@36285
end match
# don't delete, we want the ref around.
match /cvs2svn/branches/MP/
  min revision 36313
  max revision 36313
end match

match /cvs2svn/branches/DES/
  min revision 37535
  max revision 37535
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 37536
  max revision 37537
end match
match /cvs2svn/branches/PICOBSD/
  min revision 38589
  max revision 38589
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 38590
  max revision 38591
end match
# 2 commits for this one
match /cvs2svn/branches/NSOUCH/
  min revision 38774
  max revision 38776
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 38775
  max revision 38777
end match
match /cvs2svn/branches/CODA/
  min revision 38625
  max revision 38625
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 38626
  max revision 38627
end match
match /cvs2svn/branches/CODA/
  min revision 39652
  max revision 39652
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 39653
  max revision 39654
end match
match /cvs2svn/branches/VINUM/
  min revision 39330
  max revision 39332
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 39331
  max revision 39333
end match

match /cvs2svn/branches/CBW/
  min revision 40767
  max revision 40767
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 40768
  max revision 40768
end match
match /cvs2svn/branches/JUNIPER/
  min revision 41118
  max revision 41120
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 41119
  max revision 41121
end match
match /cvs2svn/branches/JUNIPER/
  min revision 41227
  max revision 41227
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 41228
  max revision 41229
end match


# a handful of commits, and r43552 looks like there was a repo-copy at some stage.
match /cvs2svn/branches/SEMENU/
  min revision 43548
  max revision 43554
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 43549
  max revision 43549
end match
match /(head|cvs2svn)/
  min revision 43551
  max revision 43551
end match
match /(head|cvs2svn)/
  min revision 43553
  max revision 43554
end match
match /cvs2svn/branches/IWASAKI/
  min revision 48730
  max revision 48730
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 48731
  max revision 48732
end match
match /cvs2svn/branches/SE/
  min revision 49182
  max revision 49187
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 49183
  max revision 49183
end match
match /(head|cvs2svn)/
  min revision 49188
  max revision 49189
end match

match /cvs2svn/branches/BARTON/
  min revision 52400
  max revision 52400
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 52401
  max revision 52402
end match
match /cvs2svn/branches/MARKM/
  min revision 56067
  max revision 56067
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 56068
  max revision 56068
end match
match /cvs2svn/branches/MARKM/
  min revision 56545
  max revision 56545
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 56546
  max revision 56547
end match

# 2 commits too, but theres another one sandwiched in between
match /cvs2svn/branches/COKANE/
  min revision 61911
  max revision 61911
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 61912
  max revision 61912
end match
match /cvs2svn/branches/COKANE/
  min revision 61914
  max revision 61914
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 61915
  max revision 61916
end match
match /cvs2svn/branches/KAME/
  min revision 62914
  max revision 62914
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 62915
  max revision 62916
end match
match /cvs2svn/branches/KAME/
  min revision 67957
  max revision 67957
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 67958
  max revision 67959
end match

match /cvs2svn/branches/MINDSTEP/
  min revision 63925
  max revision 63925
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 63926
  max revision 63927
end match
match /cvs2svn/branches/ACPI4FREEBSD/
  min revision 65283
  max revision 65287
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 65284
  max revision 65289
end match

# Only contains usr.sbin/ppp for NETGRAPH frobbing. It seems that it's made 99%
# of MFC commits and I couldn't easily find whether it got ever merged back.
match /(cvs2svn)/(branches)/(NETGRAPH)/
  min revision 66901
  max revision 66901
  repository freebsd-base.git
  branch projects/netgraph_ppp
  # git log --format=none@%T --notes --grep='revision=66900$'
  branchpoint none@70ae643eb6340c78f40c375830898f626e07e456
end match
match /cvs2svn/branches/NETGRAPH/
  repository freebsd-base.git
  branch projects/netgraph_ppp
end match
# created in r92208, never used for anything
match /cvs2svn/branches/IMP_CB_MERGE/
end match

# r86567 went to /vendor-sys/lomac, why not this one?
match /cvs2svn/branches/NAILabs/
  min revision 86629
  max revision 86629
  repository freebsd-base.git
  branch vendor/lomac/dist
  delete sys/contrib/lomac  # new location is sys/security/lomac
end match
match /cvs2svn/tags/LOMAC_2_2_0/
  repository freebsd-base.git
  branch refs/tags/vendor/lomac/2.2.0
  annotated yes
end match

# cvs2svn manufactured commits that are useless, as a later commits will update
# the files anyway (and will have a meaningful commit message)
#
# OpenBSD didn't even exist in 1994 yet ...
match /vendor/OpenBSD/dist/
  min revision 2022
  max revision 13122  # rev doesn't apply
end match
# block the RCS import, it never happened ...
match /vendor/OpenBSD/dist/
  min revision 282572
  max revision 358868
end match

match /vendor/NetBSD/dist/
  min revision 45097
  max revision 45097
  # r78344 and r78616
end match
match /vendor/NetBSD/dist/
  min revision 98185
  max revision 98185
  # r98576 brings them in
end match
match /vendor/NetBSD/dist/
  min revision 127413
  max revision 127413
  # r127419 imports these files
end match


# tip(1) from OpenBSD
match /cvs2svn/branches/bsd/
  min revision 88273
  max revision 161751
  repository freebsd-base.git
  branch vendor/OpenBSD/dist
end match

# This was used just once, inline it. tar otherwise lived under vendor/misc-GNU/dist3
match /vendor/(misc-GNU/)?tar/1.13.25/
end match
match /vendor/tar/dist/
  min revision 97805
  max revision 97805
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 97806
  max revision 97807
end match

# openssl manpages, committed to branch and insta-manufactured to head, twice
match /cvs2svn/branches/FREEBSD/
  min revision  96593
  max revision 100946
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 96594
  max revision 96595
end match
match /(head|cvs2svn)/
  min revision 100947
  max revision 100948
end match
# single groff import that immediately went into head, as usual the "branch"
# commit has the better log message.
match /cvs2svn/branches/TEXFM/
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 104896
  max revision 104896
end match
# never used for anything, ignore the branch copy and tag as well.
match /cvs2svn/branches/KORTY/
end match
match /cvs2svn/tags/PAM_SSH_1_7/
end match
# new branch, a binary files was committed, cvs2svn merges it into head, then
# 90 seconds later it is being deleted. Make it so it never happened.
match /.*/ksetest$
  min revision 111519
  max revision 111522
end match
match /cvs2svn/branches/davidxu/
  min revision 111519
  max revision 111519
  repository freebsd-base.git
  branch master
end match
match /
  min revision 111520
  max revision 111522
end match
# just 1 commit in r117783 that was immediately manufactured by cvs2svn into
# head. Make the original (and its author) and message show up instead. Ignore
# the following patch up and the useless tag.
match /cvs2svn/branches/LIBTHR_ALPHA_INIT/
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 117784
  max revision 117785
end match
match /cvs2svn/tags/LIBTHR_ALPHA/
end match
# file fell of the regular branch. r128605 was then manufactured to "create"
# RELENG_4_10. Must be a repo-copy at play here, likely from r127627
match /cvs2svn/branches/unlabeled-1.1.2.122.2/
  min revision 128603
  max revision 128603
  repository freebsd-base.git
  branch releng/4.10
end match
# proper commit message went into branch, then was manufactured into head
match /cvs2svn/branches/JOERG/
  min revision 129330
  max revision 129330
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 129331
  max revision 129331
end match
# wrong vendor imports, were later patched up, but the original imports have the
# better commit messages.
match /cvs2svn/branches/unlabeled-1.1.1/
  min revision 43007
  max revision 43007
  repository freebsd-base.git
  branch vendor/tzdata/dist
end match
match /cvs2svn/branches/unlabeled-1.1.1/
  min revision 136632
  max revision 136632
  repository freebsd-base.git
  branch vendor/tzdata/dist
end match

# one file fix
match /vendor/libiberty/2_15_cvsrev_1_51/
end match
match /vendor/libiberty/dist/
  min revision 175189
  max revision 175189
  repository freebsd-base.git
  branch master
end match
match /(head|cvs2svn)/
  min revision 175190
  max revision 175191
end match

# deleted attempts
match /release/8.4.0/
  min revision 250625
  max revision 250629
end match
match /release/9.3.0/
  min revision 268520
  max revision 268522
end match
match /release/10.0.0/
  min revision 260665
  max revision 260788
end match

# special nesting for these
match /(projects)/(graid|multi-fibv6|ofed|pf|suj|zfsd)/([^/]+)/
  repository freebsd-base.git
  branch \1/\2/\3
end match

# these branch off of head, but they take only a subdir with them, this
# confuses `git subtree` later on, so skip the branch point creation.
match /(projects)/(bhyve_graphics)/
  min revision 300828
  max revision 300828
  repository freebsd-base.git
  branch \1/\2
  branchpoint none
end match
match /(projects)/(etc_ipv6)/
  min revision 208122
  max revision 208122
  repository freebsd-base.git
  branch \1/\2
  branchpoint none
end match
match /(projects)/(hastd_wan)/
  min revision 223144
  max revision 223144
  repository freebsd-base.git
  branch \1/\2
  branchpoint none
end match
match /(projects)/(jeff_mbuf2)/
  min revision 191957
  max revision 191957
  repository freebsd-base.git
  branch \1/\2
  branchpoint none
end match
match /(projects)/(powernv)/
  min revision 277620
  max revision 277620
  repository freebsd-base.git
  branch \1/\2
  branchpoint none
end match
match /(projects)/(pseries)/
  min revision 221956
  max revision 221956
  repository freebsd-base.git
  branch \1/\2
  branchpoint none
end match

match /(projects)/([^/]+)/
  repository freebsd-base.git
  branch \1/\2
end match

# /user/piso was created wrong
match /(user)/(piso)/
  repository freebsd-base.git
  branch \1/\2/ipfw_old
  min revision 186541
  max revision 190858
end match
match /(user)/(piso)/([^/]+)/
  repository freebsd-base.git
  branch \1/\2/\3
  min revision 190859
end match
# /head copied into existing branch, later deleted in rev 196663 anyway.
match /(user)/(kmacy)/
  min revision 196075
  max revision 196075
end match
# svn merge tests, they result in a left-over tag somehow, ignore them
match /user/dim/merge-test2?/
end match
# ignore stuff, no branch for these
match /user/gad/README.txt
end match
match /user/des/Makefile.inc
end match
match /user/rpaulo/asiabsdcon.rb
end match
match /user/simon/test.txt
end match
match /user/peter/foo.txt
end match
# Cannot put .git directories into git, makes it unhappy
match /user/uqs/git_conv/.*\.git/.*
end match

# patch up imports at wrong level
match /(user)/(nwhitehorn)/
  min revision 253490
  max revision 253490
  repository freebsd-base.git
  branch \1/\2/condorports
end match
match /(user)/(peterj)/
  repository freebsd-base.git
  branch \1/\2
end match

# These have extra levels
match /(user)/(dfr)/([^/]+)/([^/]+)/
  repository freebsd-base.git
  branch \1/\2/\3/\4
end match
# started out at 4 levels and was moved in r262276
match /user/gjb/
  min revision 262276
  max revision 262276
end match
match /(user)/(gjb)/(hacking)/([^/]+)/
  repository freebsd-base.git
  branch \1/\2/\4
end match

# strip extra head
match /(user)/(eri)/(pf45)/(head)/
  repository freebsd-base.git
  branch \1/\2/\3
end match
# ignore random dirs
match /(user)/(eri)/(net|netinet)/
end match

# these are partial branches off of head, which we snip off, to later not confuse `git subtree`.
match /(user)/(andre)/(mbuf_staging)/
  min revision 256282
  max revision 256282
  repository freebsd-base.git
  branch \1/\2/\3
  branchpoint none
end match
match /(user)/(andre)/(routelocking)/
  min revision 234647
  max revision 234647
  repository freebsd-base.git
  branch \1/\2/\3
  branchpoint none
end match
match /(user)/(attilio)/(membarclean)/
  min revision 244587
  max revision 244587
  repository freebsd-base.git
  branch \1/\2/\3
  branchpoint none
end match
match /(user)/(delphij)/(libz)/
  min revision 205302
  max revision 205302
  repository freebsd-base.git
  branch \1/\2/\3
  branchpoint none
end match
match /(user)/(delphij)/(libz-8)/
  min revision 206926
  max revision 206926
  repository freebsd-base.git
  branch \1/\2/\3
  branchpoint none
end match
match /(user)/(dim)/(merge-test2)/
  min revision 287632
  max revision 287632
  repository freebsd-base.git
  branch \1/\2/\3
  branchpoint none
end match
match /(user)/(edwin)/(calendar)/
  min revision 200812
  max revision 200812
  repository freebsd-base.git
  branch \1/\2/\3
  branchpoint none
end match
match /(user)/(edwin)/(ncal)/
  min revision 204479
  max revision 204479
  repository freebsd-base.git
  branch \1/\2/\3
  branchpoint none
end match
match /(user)/(imp)/(camdoc)/
  min revision 296049
  max revision 296049
  repository freebsd-base.git
  branch \1/\2/\3
  branchpoint none
end match
match /(user)/(imp)/(config_reorg_sys)/
  min revision 201537
  max revision 201537
  repository freebsd-base.git
  branch \1/\2/\3
  branchpoint none
end match
match /(user)/(marcel)/(vtc.sys)/
  min revision 234080
  max revision 234080
  repository freebsd-base.git
  branch \1/\2/\3
  branchpoint none
end match
match /(user)/(mjacob)/(sys)/
  min revision 227632
  max revision 227632
  repository freebsd-base.git
  branch \1/\2/\3
  branchpoint none
end match
match /(user)/(nwhitehorn)/(bsdinstall_zfspartedit)/
  min revision 266652
  max revision 266652
  repository freebsd-base.git
  branch \1/\2/\3
  branchpoint none
end match
match /(user)/(nwhitehorn)/(kboot)/
  min revision 276329
  max revision 276329
  repository freebsd-base.git
  branch \1/\2/\3
  branchpoint none
end match
match /(user)/(nwhitehorn)/(mips_pic_if)/
  min revision 259687
  max revision 259687
  repository freebsd-base.git
  branch \1/\2/\3
  branchpoint none
end match
match /(user)/(nwhitehorn)/(ppc64-pmap-rework)/
  min revision 278877
  max revision 278877
  repository freebsd-base.git
  branch \1/\2/\3
  branchpoint none
end match
match /(user)/(nwhitehorn)/(ps3)/
  min revision 209627
  max revision 209627
  repository freebsd-base.git
  branch \1/\2/\3
  branchpoint none
end match
match /(user)/(nwhitehorn)/(ps3)/
  min revision 210708
  max revision 210708
  repository freebsd-base.git
  branch \1/\2/\3
  branchpoint none
end match
match /(user)/(sbruno)/(firewire_test)/
  min revision 227670
  max revision 227670
  repository freebsd-base.git
  branch \1/\2/\3
  branchpoint none
end match

match /(user)/([^/]+)/([^/]+)/
  repository freebsd-base.git
  branch \1/\2/\3
end match

# These now live outside of a branch and need to be ignored
match /vendor/.arcconfig
end match
match /vendor/(atf|ldns-host|v4l)/README.*
end match
match /vendor/(apr|apr-util|atf|bzip2|flex|ntp|serf|subversion|tcpdump)/F(REE|ree)BSD-(Xlist|upgrade)
end match
match /vendor/libregex/libgnuregex_prep.sh
end match
match /vendor/bearssl/import.sh
end match
match /vendor/NetBSD/bmake/do-update.sh
end match
match /vendor/NetBSD/bmake/import.sh
end match
match /vendor/NetBSD/((libc-)?(un)?vis|libexecinfo)/FreeBSD-Upgrade
end match
match /vendor/Juniper/libxo/(.svnignore|import.sh)
end match

# delete files that later were removed anyway, but they cause cvs2svn tag
# contortions that fix_bogus_tags.sh cannot automatically detect. Help it out
# this way. Hopefully this works for all 8 tag slips.
match /(vendor)/(ncftp)/(dist)/
  min revision 4135
  max revision 4135
  repository freebsd-base.git
  branch \1/\2/\3
  delete usr.bin/ncftp/Makefile.ORIG
end match
match /(vendor)/(ncftp)/(dist)/
  min revision 7889
  max revision 7889
  repository freebsd-base.git
  branch \1/\2/\3
  delete usr.bin/ncftp/v2_Note
end match
match /vendor/ncftp/dist/
  min revision 13122
  max revision 13122
end match

# Ok, routed vendor is special. Till r17843 everything was imported under dist.
# After that, things were imported into both dist2 *and* dist_v_2_21. The
# prefix was different though, so we can just delete the old prefix.
# But first: don't fork it off of master
match /(vendor)/(SGI)/(dist)/
  min revision 16005
  repository freebsd-base.git
  branch \1/\2/\3
  branchpoint none
end match
match /(vendor)/(SGI)/(dist)(2|_v_2_21)/
  min revision 18316
  max revision 18316
  repository freebsd-base.git
  branch \1/\2/\3
  # Look, r18316 does *not* import a routed.h, which I'm pretty sure is wrong.
  # The next revision, r19880 brings it back again. It's what is in SVN, though.
  # We could just `delete usr.sbin/routed` here and that would be good enough,
  # but it would drop the routed.h due to how the ordering of operations works
  # out. So go the extra mile instead. You're welcome.
  delete usr.sbin/routed/rttrace
  delete usr.sbin/routed/Makefile.inc
  rename usr.sbin/routed/routed.h sbin/routed/routed.h
  rename usr.sbin/routed/Makefile /dev/null
  rename usr.sbin/routed/defs.h /dev/null
  rename usr.sbin/routed/if.c /dev/null
  rename usr.sbin/routed/input.c /dev/null
  rename usr.sbin/routed/main.c /dev/null
  rename usr.sbin/routed/output.c /dev/null
  rename usr.sbin/routed/parms.c /dev/null
  rename usr.sbin/routed/pathnames.h /dev/null
  rename usr.sbin/routed/radix.c /dev/null
  rename usr.sbin/routed/radix.h /dev/null
  rename usr.sbin/routed/rdisc.c /dev/null
  rename usr.sbin/routed/routed.8 /dev/null
  rename usr.sbin/routed/rtquery /dev/null
  rename usr.sbin/routed/table.c /dev/null
  rename usr.sbin/routed/trace.c /dev/null
end match
match /(vendor)/(SGI)/(dist)(2|_v_2_21)/
  repository freebsd-base.git
  branch \1/\2/\3
  delete usr.sbin/routed
end match
# these are pretty garbage or redundant
match /vendor/SGI/(sgi_routed|v_2_17|v_2_22)/
end match
# properly record the merges to head
match /head/
  min revision 46303
  max revision 46303
  repository freebsd-base.git
  branch master
  branchpoint vendor/SGI/dist@46286
end match
match /head/
  min revision 64131
  max revision 64131
  repository freebsd-base.git
  branch master
  branchpoint vendor/SGI/dist@64127
end match
match /head/
  min revision 64483
  max revision 64483
  repository freebsd-base.git
  branch master
  branchpoint vendor/SGI/dist@64480
end match
match /head/
  min revision 126250
  max revision 126250
  repository freebsd-base.git
  branch master
  branchpoint vendor/SGI/dist@126247
end match

# We have 4 "dist" branches under /vendor/misc-GNU/dist{,1,2,3}/ and they don't
# overlap at all. In fact, some of the stuff like e.g. libg++ is split across
# two of them and rcs in dist3 is just an old and forgotten snapshot of dist3.
# Except for some of the later imports, these were not really handled properly
# as vendor branches, so we inline most of them.
match /vendor/misc-GNU/dist3/gnu/usr.bin/rcs/
end match
# Create a new "grep" vendor area, as that's basically the only thing left in
# misc-GNU/dist* after we're done here.
match /vendor/misc-GNU/dist[12]/
  min revision 61
  max revision 61
  repository freebsd-base.git
  branch vendor/misc-GNU/grep/dist
end match
match /vendor/misc-GNU/dist1/
  min revision 96
  max revision 96
  repository freebsd-base.git
  branch vendor/misc-GNU/grep/dist
end match
match /vendor/misc-GNU/dist1/
  min revision 53469
  max revision 53469
  repository freebsd-base.git
  branch vendor/misc-GNU/grep/dist
  delete gnu/usr.bin/grep/tests/regress.sh
end match
match /vendor/misc-GNU/dist1/
  min revision  53469
  max revision 131554
  repository freebsd-base.git
  branch vendor/misc-GNU/grep/dist
end match
match /vendor/misc-GNU/(GREP|grep)_([12])_([3456][ad]?)/
  repository freebsd-base.git
  branch refs/tags/vendor/misc-GNU/grep/\2.\3
  annotated true
end match
match /vendor/misc-GNU/(GREP|grep)_([12])_([3456])_([12])/
  repository freebsd-base.git
  branch refs/tags/vendor/misc-GNU/grep/\2.\3.\4
  annotated true
end match

# forks a tag from head?
match /vendor/cvs/1.6.3-END/
end match

# All these tags are garbage
match /vendor/misc-GNU/(gnu_tag|GZIP_1_1|TEXT_1_6|DIFF_2_3|DIFF3_2_3|ptx_0_3|readline_1_1|texinfo_2_0|libg\+\+_tag|V1_09|rcs_5_7|diff_2_7|gmp_1_3_2|textutils_1_14|gmp_2_0_2|v2_3|v6_1_1|V_GNU_0_2)/
end match
match /vendor/misc-GNU/dist[123]?/
  min revision 9
  max revision 57
  repository freebsd-base.git
  branch master
end match
match /(head)/
  min revision 19
  max revision 19
end match
match /(head)/
  min revision 54
  max revision 54
end match
match /(head)/
  min revision 58
  max revision 58
end match
match /vendor/misc-GNU/dist[123]?/
  min revision 67
  max revision 70
  repository freebsd-base.git
  branch master
end match
match /(head)/
  min revision 68
  max revision 71
end match
# these go head -> branch
match /vendor/misc-GNU/dist[123]?/
  min revision 731
  max revision 755
end match
match /vendor/misc-GNU/dist[123]?/
  min revision 1457
  max revision 2726
  repository freebsd-base.git
  branch master
end match
match /(head)/
  min revision 1458
  max revision 1458
end match
match /(head)/
  min revision 1467
  max revision 1467
end match
match /(head)/
  min revision 1824
  max revision 1824
end match
match /(head)/
  min revision 1934
  max revision 1936
end match
match /(head)/
  min revision 2727
  max revision 2727
end match
match /vendor/misc-GNU/dist[123]?/gnu/lib/libg../(Makefile|include/_G_config.h)
  min revision 4422
  max revision 4422
end match
match /vendor/misc-GNU/dist[123]?/
  min revision 4420
  max revision 4422
  repository freebsd-base.git
  branch master
end match
match /(head)/
  min revision 4421
  max revision 4423
end match
# now bogus and somehow manages to omit 1 file anyway?
match /vendor/misc-GNU/dist/
  min revision 4425
  max revision 4425
end match
match /(vendor/misc-GNU/dist[123]?|cvs2svn/branches/PST)/
  min revision 5637
  max revision 5637
  repository freebsd-base.git
  branch master
end match
match /(head)/
  min revision 5638
  max revision 5638
end match
match /vendor/misc-GNU/dist[123]?/
  min revision 12234
  max revision 12234
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 12235
  max revision 12235
end match
match /vendor/misc-GNU/dist[123]?/
  min revision 19045
  max revision 19045
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 19046
  max revision 19046
end match
# fresh import of cpio v2.3, which was already in head. Shortly after, 2.4.2 is
# imported to vendor/cpio/dist with r24398, so graft that in front of that.
match /vendor/misc-GNU/dist2/
  min revision 24304
  max revision 24304
  repository freebsd-base.git
  branch vendor/misc-GNU/cpio/dist
end match
match /vendor/cpio/dist/
  min revision 24398
  max revision 24398
  repository freebsd-base.git
  branch vendor/misc-GNU/cpio/dist
  delete gnu  # now under contrib/ prefix
end match
match /vendor/misc-GNU/dist1/
  min revision 157571
  max revision 157571
  repository freebsd-base.git
  branch master
end match
match /head/
  min revision 157572
  max revision 157572
end match

# fallthrough for r11844, r11891, r11905, r13122, r14049
match /(vendor)/(misc-GNU)/(dist)[123]?/
  repository freebsd-base.git
  branch \1/\2/\3
end match

# fixup trailing dot, skip the rename revs
match /vendor/(clang|llvm)/(clang|llvm)-(r73070)\./
  repository freebsd-base.git
  branch refs/tags/vendor/\1/\2-\3
  annotated true
  max revision 193727
end match
match /vendor/(clang|llvm)/
  min revision 193736
  max revision 193737
end match
# wrong tag, ignore r210074 and r210075
match /vendor/(clang|llvm)-(r108243)/
end match
# tags were without 'r' at first, then got renamed in revs 208978 to 208981.
match /vendor/(clang|llvm)/
  min revision 208978
  max revision 208981
end match
# ignore two overwritten tags.
match /vendor/(clang|llvm)/llvm-r108428
  max revision 212752
end match
match /vendor/(clang|llvm)/clang-r108428
  max revision 212767
end match
# fix up tag rename
match /(vendor)/(llvm)/(llvm-release)_35(-r216957)/
  repository freebsd-base.git
  branch refs/tags/\1/\2/\3_350\4
  annotated true
  max revision 274956
end match
match /vendor/llvm/
  min revision 274957
  max revision 274957
end match
match /vendor/llvm/llvm-trunk-r256633/
  max revision 292938
end match
match /(vendor)/(clang|llvm)/(clang|llvm)-([0-9]+)/
  repository freebsd-base.git
  branch refs/tags/\1/\2/\3-r\4
  annotated true
end match
# got messed up badly, fix inline and skip the repair
match /(vendor)/(libc..)/dist/(libc..-release_38-r257836)/
  min revision 294165
  max revision 294165
  repository freebsd-base.git
  branch refs/tags/\1/\2/\3
  annotated true
end match
match /vendor/libc\+\+/
  min revision 294601
  max revision 294601
end match
# Imported was r288847 and the commit message says so, the tags then went into
# existing subdirs. Did I ever tell you how SVN's notions of tags and branches
# are just tree copies is the bane of my existence?
# tagged into the wrong existing tag
match /(vendor)/(llvm|clang|compiler-rt|libc..|lld|lldb)/([^/]+-release_39)-r288513/dist/
  min revision 309809
  max revision 309815
  repository freebsd-base.git
  branch refs/tags/\1/\2/\3-r288847
  annotated true
end match
# I assume r291012 was a typo for r291015 and it got moved into the wrong place
# (a directory that already exists, so that it ended up with a trailing dist/
# directory). Same as happened quite a number of times.
# See r311315 and the following. The first tag of r291012 was fine, the second
# tag of r291015 went to the wrong dirs.
match /(vendor)/(llvm|clang|compiler-rt|libc..|lld|lldb)/([^/]+-trunk)-r291012/dist/
  repository freebsd-base.git
  branch refs/tags/\1/\2/\3-r291015
  annotated true
  min revision 311328
end match
# A bunch of misspellings, later properly tagged
match /(vendor)/(llvm|clang|compiler-rt|libc..|llvm-libunwind|lld|lldb|llvm-openmp)/(llvm|clang|compiler-rt|libc..|libunwind|lld|lldb|openmp)-release80-r363030/
  max revision 348961
end match
match /vendor/lldb/lldb-trunk-r366426
  min revision 351291
  max revision 351490
end match
# missing a "trunk where others usually have it"
match /(vendor)/(clang|compiler-rt|libc..|lld|lldb|llvm-libunwind|llvm-openmp|llvm)/(clang|compiler-rt|libc..|lld|lldb|libunwind|openmp|llvm)(-r375505)/
  max revision 353955
  repository freebsd-base.git
  branch refs/tags/\1/\2/\3-trunk\4
  annotated true
end match
# Skip empty vendor dir creation and branches
match /vendor/llvm-project
  min revision 355814
  max revision 355814
end match
match /vendor/llvm-project/
  min revision 355815
  max revision 355815
end match
match /vendor/llvm-project/
  min revision 355939
  max revision 355939
end match
# Bogus re-tag, resulting in identical tree objects anyway.
match /vendor/llvm-project/
  min revision 355986
  max revision 355987
end match
# premature tag
match /vendor/llvm-project/llvmorg-10.0.0-0-gd32170dbd5b/
  min revision 359337
  max revision 359576
end match

# This branch doesn't need a cvs2svn manufacture ...
match /vendor/libregex/
  min revision 219
  max revision 219
end match
# This is the wrong Makefile ...
match /vendor/zlib/dist/
  min revision 17654
  max revision 17654
end match
match /vendor/texinfo/dist/
  min revision 21499
  max revision 21499
end match
# neither does this one
match /vendor-sys/ext2fs/dist/
  min revision 12116
  max revision 12116
end match
match /vendor/file/dist/
  min revision 19157
  max revision 19157
end match
match /vendor/file/dist/
  min revision 69221
  max revision 69221
end match

# patch up a repo-copy and obsolete the cvs 1.6 file death revision
match /vendor/flex/dist/
  min revision 2258
  max revision 2258
  repository freebsd-base.git
  branch vendor/flex/dist
  rename usr.bin/lex/flex.1 usr.bin/lex/lex.1
end match
match /vendor/flex/dist/
  min revision 2308
  max revision 13122
end match
match /vendor/flex/dist/
  min revision 16514
  max revision 16514
  repository freebsd-base.git
  branch vendor/flex/dist
  delete usr.bin/lex/flexdoc.1
end match

# Note: sendmail uses vendor/sendmail/dist-old for a while, then
# r38032 brings in the new dist/ and the old is never used again.
# This would need a hack for the branchNote to end in old-dist, not
# old-dist/usr.sbin/sendmail, otherwise a later tag generation fails due to
# unknown copyfrom branch. ... or some other hack to make the old paths
# disappear from r38032, that's why the `delete` action was introduced.
match /(vendor)/(sendmail)/(dist)-old/
  max revision 31087
  repository freebsd-base.git
  branch \1/\2/\3
end match
match /(vendor)/(sendmail)/(dist)/
  min revision 38032
  max revision 38032
  repository freebsd-base.git
  branch \1/\2/\3
  delete usr.sbin/sendmail
end match
# was inlined, can't tag it.
match /vendor/sendmail/8.6.10/
end match
match /vendor/sendmail/[^d][^/]*/
  min revision 182324
  max revision 182327
end match
match /vendor/sendmail/
  min revision 182344
  max revision 182349
end match

# this tag has an extra /tags
match /(vendor)/(SGI)/tags/(v_2_17)/
  min revision 46287
  max revision 46287
  repository freebsd-base.git
  branch refs/tags/\1/\2/\3
  annotated true
end match
# This one imported under contrib/ and should've deleted old stuff under usr.bin/
match /(vendor|vendor-sys|vendor-crypto)/([^/]+)/([^/]+)/
  min revision 68349
  max revision 68349
  repository freebsd-base.git
  # unify the prefix for other branches
  branch vendor/\2/\3
  delete usr.bin
end match

# the bump-branchpoint-heuristic produces a bogus result for these, override them manually
match /(vendor|vendor-sys|vendor-crypto)/([^/]+)/((?!dist)[^/]+)/
  min revision 53656
  max revision 53656
  repository freebsd-base.git
  branch refs/tags/vendor/\2/\3
  annotated true
  branchpoint vendor/gcc/dist@48743
end match
match /(vendor|vendor-sys|vendor-crypto)/([^/]+)/((?!dist)[^/]+)/
  min revision 53659
  max revision 53659
  repository freebsd-base.git
  branch refs/tags/vendor/\2/\3
  annotated true
  branchpoint vendor/gcc/dist@52143
end match
match /(vendor|vendor-sys|vendor-crypto)/([^/]+)/((?!dist)[^/]+)/
  min revision 58652
  max revision 58652
  repository freebsd-base.git
  branch refs/tags/vendor/\2/\3
  annotated true
  branchpoint vendor/gcc/dist@52287
end match
match /(vendor|vendor-sys|vendor-crypto)/([^/]+)/((?!dist)[^/]+)/
  min revision 69182
  max revision 69182
  repository freebsd-base.git
  branch refs/tags/vendor/\2/\3
  annotated true
  branchpoint vendor/binutils/dist@68673
end match
match /vendor/gcc/2.95.3-test[13]/
end match
match /(vendor|vendor-sys|vendor-crypto)/([^/]+)/((?!dist)[^/]+)/
  min revision 159827
  max revision 159827
  repository freebsd-base.git
  branch refs/tags/vendor/\2/\3
  annotated true
  branchpoint vendor/file/dist@68349
end match

# look what I've found between the couch cushions
match /(vendor)-crypto/(OpenSSH)/(dist)/
  min revision 74713
  max revision 74713
  repository freebsd-base.git
  branch master
end match
# skip the manufacture and tag ...
match /(vendor-crypto/OpenSSH|head)/
  min revision 74714
  max revision 74715
end match
# tzcode got tagged from tzdata (sic!), that didn't go as planned, it was later deleted.
match /vendor/tzcode/tzcode2001d/
  min revision 86225
  max revision 86225
end match
# skip the deletion, and most importantly skip the damage that flattening does.
match /vendor/tzcode/
  min revision 183401
  max revision 183402
end match
# deleting a branch is futile, this one got later reverted anyway
match /vendor/patch/
  min revision 128777
  max revision 128777
end match
# but also ignore the 2nd delete
match /vendor/misc-GNU/patch/
  min revision 358869
  max revision 358869
end match
# Flattening tags? Not even once. Say "no" today, save a kitten.
match /vendor/gcc/[^d][^/]*/
  min revision 179468
  max revision 179468
end match
match /vendor/cpio/[^d][^/]*/
  min revision 180398
  max revision 180398
end match
match /vendor/bind9/[^d][^/]*/
  min revision 180456
  max revision 180456
end match
# wrong tag and backout revs
match /vendor/bind9/
  min revision 180464
  max revision 180464
end match
match /vendor/bind9/
  min revision 180467
  max revision 180467
end match
# don't flatten the tags, as it advances them and they no longer tag along the
# axis of `dist`
match /vendor-crypto/openssh/
  min revision 180714
  max revision 180718
end match
match /vendor-crypto/openssh/[^d][^/]*/
  min revision 180739
  max revision 180739
end match
# shouldn't be needed, because we didn't flatten?
match /vendor-crypto/openssh/[^d][^/]*/
  min revision 182609
  max revision 182609
end match
# rather pointless
match /vendor-crypto/openssh/5.9p1/
  min revision 225834
  max revision 225834
end match
match /vendor/tzdata/tzdata[0-9]*[a-z]/
  min revision 181401
  max revision 181401
end match
match /vendor-sys/pf/[^d][^/]*/
  min revision 181288
  max revision 181289
end match
match /vendor/ntp/[^d][^/]*/
  min revision 181800
  max revision 181800
end match
match /vendor-sys/ath/(?!dist)[^/]+/
  min revision 182297
  max revision 182298
end match
match /vendor-sys/ath/
  min revision 182299
  max revision 182299
end match
match /vendor-sys/ath/(?!dist)[^/]+/
  min revision 182305
  max revision 182305
end match
# pointless svn mimetype wrangling, even on tags
match /vendor/gdtoa/[^d][^/]*/
  min revision 182700
  max revision 182702
end match
match /vendor/netcat/[^d][^/]*/
  min revision 183393
  max revision 183393
end match
match /vendor/tzcode/[^d][^/]*/
  min revision 183402
  max revision 183402
end match
match /vendor/top/[^d][^/]*/
  min revision 183431
  max revision 183433
end match
match /vendor/pf/[^d][^/]*/
  min revision 185872
  max revision 185873
end match
match /vendor/openpam/[^d][^/]*/
  min revision 186063
  max revision 186063
end match
# just svn metadata removal
match /vendor/resolver/dist/
  min revision 186081
  max revision 186081
end match
# no flattening of existing tags
match /vendor/bsnmp/[^d][^/]*/
  min revision 186357
  max revision 186357
end match
match /vendor/libbegemot/[^d][^/]*/
  min revision 186360
  max revision 186360
end match
match /vendor/file/[^d][^/]*/
  min revision 186675
  max revision 186675
end match
match /vendor/wpa_supplicant/[^d][^/]*/
  min revision 187258
  max revision 187258
end match
match /vendor/binutils/[^d][^/]*/
  min revision 187443
  max revision 187632  # sic, both revisions
end match
# supplicant and hostapd got merged into 1, record that.
match /(vendor)/(wpa)/(dist)/README
  min revision 189251
  max revision 189251
  repository freebsd-base.git
  branch \1/\2/\3
  branchpoint vendor/wpa_supplicant/dist@189251
  prefix README
end match
match /(vendor)/(wpa)/(dist)/
  min revision 189251
  max revision 189251
  repository freebsd-base.git
  branch \1/\2/\3
  branchpoint vendor/hostapd/dist@189251
end match
match /vendor/tcpdump/[^d][^/]*/
  min revision 190150
  max revision 190150
end match
match /vendor/libpcap/[^d][^/]*/
  min revision 190153
  max revision 190153
end match

# Fix wrong tag, and ignore the fix-up move
match /(vendor)/(tzdata)/(tzdata2000g)/(dist)/
  min revision 191616
  max revision 191616
  repository freebsd-base.git
  branch refs/tags/\1/\2/tzdata2009g
  annotated true
end match
match /vendor/tzdata/
  min revision 191617
  max revision 191617
end match
# no flattening for tags
match /vendor/gdb/
  min revision 191740
  max revision 191740
end match
match /vendor/less/[^d][^/]*/
  min revision 191925
  max revision 191925
end match
match /vendor-sys/acpica/[^d][^/]*/
  min revision 192384
  max revision 192384
end match
# was already tagged in 193784
match /vendor/tzdata/
  min revision 194479
  max revision 194479
end match
# dropped a prefix
match /(vendor)/(tzdata)/(2009.)/
  repository freebsd-base.git
  branch refs/tags/\1/\2/tzdata\3
  annotated true
  max revision 194481
end match
match /vendor/tzdata/
  min revision 194483
  max revision 194484
end match
# Another botched import
match /(vendor)/(tzdata)/(tzdata2009m)/(dist)/
  min revision 197595
  max revision 197595
  repository freebsd-base.git
  branch refs/tags/\1/\2/tzdata2009n
  annotated true
end match
match /vendor/tzdata/tzdata2009.
  min revision 197596
  max revision 197596
end match
match /vendor/ntp/dist/
  min revision 200453
  max revision 200453
end match
# merges into a tag, advancing it, but it's an empty diff (empty dir got deleted)
match /vendor/ntp/4.2.4p8/
  min revision 200454
  max revision 200454
end match
# skip tag flattening and re-tag that records the wrong branch point
match /vendor/expat/[^d][^/]*/
  min revision 200365
  max revision 200391
end match
# no flatten for you! no svn metadata changes that are diff neutral but advance the tag either.
match /vendor/one-true-awk/(?!dist)[^/]+/
  min revision 201936
  max revision 201938
end match
match /vendor/groff/[^d][^/]*/
  min revision 202347
  max revision 202347
end match
match /vendor/groff/
  min revision 202351
  max revision 202351
end match
match /vendor/(zlib|libz)/[^d][^/]*/
  min revision 204237
  max revision 204238
end match
# tough one, the tag was moved to delete an unused file, we could block the
# file during the initial import, but that would make a later revision on dist
# bogus. Instead, just skip the re-tagging. A newer point-release was tagged
# just 8 days later anyway.
match /vendor/libz/1.2.4/
  min revision 205483
  max revision 205483
end match
# committed w/o dist at first
match /(vendor)/(testfloat)/
  max revision 206917
  max revision 206917
  repository freebsd-base.git
  branch \1/\2/dist
end match
# keywords and move into proper location skipped
match /vendor/testfloat/
  min revision 206918
  max revision 206921
end match
match /vendor/gnu-sort/[^d][^/]*/
  min revision 207002
  max revision 207002
end match
# wrong tag, it was 0.6.10
match /vendor/wpa/
  min revision 209140
  max revision 209140
end match
match /vendor/wpa/
  min revision 209142
  max revision 209142
end match
# a prefix deletion that we're handling already
match /vendor-cddl/
  min revision 209768
  max revision 209768
end match
# abandoned import
match /vendor/dtracetoolkit/
  min revision 211551
  max revision 211556
end match
# wrong tag name and later rename
match /(vendor)/(ee)/ee-(1.5.1)/
  repository freebsd-base.git
  branch refs/tags/\1/\2/\3
  annotated true
  max revision 213563
end match
match /vendor/ee/
  min revision 213564
  max revision 213564
end match
# partial tag, later overwritten
match /vendor/wpa/0.7.3
  max revision 214504
end match
# don't branch this off of head, pulling in all history and confusing `git subtree`
match /(vendor)/(dialog)/(dist)/
  min revision 217338
  max revision 217338
  repository freebsd-base.git
  branch \1/\2/\3
  branchpoint none
end match
# later tags drop the redundant prefix
match /(vendor)/(dialog)/dialog-(1.1-[0-9]+)/
  min revision 217339
  max revision 241817
  repository freebsd-base.git
  branch refs/tags/\1/\2/\3
  annotated true
end match
# import that was later re-done
match /vendor/tnftp/
  min revision 210486
  max revision 223299
end match
match /vendor/gperf/
  min revision 228213
  max revision 228213
end match
# libpcap snafu
match /vendor/libpcap/1.2.1
  min revision 230829
  max revision 230834
end match
match /(vendor)/(bind9)/(dist)/
  min revision 233901
  max revision 233901
end match
# fixup copied dist/
match /vendor/dtc/dtc-f807af19/
  min revision 238734
  max revision 238734
end match
match /(vendor)/(dtc)/(dtc-f807af19)/dist/
  min revision 238738
  max revision 238738
  repository freebsd-base.git
  branch refs/tags/\1/\2/\3
  annotated true
end match
# was never used
match /vendor/NetBSD/atf/
  min revision 236635
  max revision 236635
end match
# byacc got imported/tagged twice
match /vendor/byacc/byacc-20120115/
  min revision 234949
  max revision 234949
end match
# autoprops removal
match /vendor-crypto/openssh/dist/
  min revision 239846
  max revision 239846
end match
# bad tags
match /vendor/NetBSD/bmake/20120831
  max revision 240331
end match
# has 1 bmake too many compared to all other tags
match /(vendor)/(NetBSD)/(bmake)/bmake-(20121111)/
  max revision 243106
  repository freebsd-base.git
  branch refs/tags/\1/\2/\3/\4
  annotated true
end match
match /vendor/flex/dist/
  min revision 250156
  max revision 250156
end match
match /vendor/flex/dist/
  min revision 250869
  max revision 250869
end match
# no flattening of tags
match /vendor/patch/[^d][^/]*/
  min revision 253716
  max revision 253716
end match
match /vendor/nvi/[^d][^/]*/
  min revision 254210
  max revision 254210
end match
# needlessly advances a tag
match /vendor/openpam/[^d][^/]*/
  min revision 255387
  max revision 255387
end match
# wrong tag, later renamed
match /(vendor)-sys/(acpica)/(20140414)/
  max revision 260662
  repository freebsd-base.git
  branch refs/tags/\1/\2/20140114
  annotated true
end match
match /vendor-sys/acpica/
  min revision 260663
  max revision 260663
end match
# yours truly messes up mdocml tags
match /vendor/mdocml/1.12.3
  max revision 261334
end match
# r262569 committed one level short
match /(vendor)/(device-tree)/
  min revision 262569
  max revision 262569
  repository freebsd-base.git
  branch \1/\2/dist
end match
match /(vendor)/(device-tree)/
  min revision 262573
  max revision 262573
end match
# tag deletion makes no sense
match /vendor/ncurses/
  min revision 262636
  max revision 262636
end match
# autoprops removal, svn:mime-type additions
match /(head/contrib|vendor)/(ldns|unbound)/
  min revision 266139
  max revision 266145
end match
match /vendor/tzdata/tzdata2013e
  min revision 267453
  max revision 267453
end match
# r270865 gets overwritten ...
match /vendor/device-tree/ianc-b78b6b80
  min revision 270865
  max revision 270865
end match
# and r270867 copied dist into the existing dir, snip it off
match /(vendor)/(device-tree)/(ianc-b78b6b80)/dist/
  min revision 270867
  max revision 270867
  repository freebsd-base.git
  branch refs/tags/\1/\2/\3
  annotated true
end match
# don't muck with tags, especially not deleting empty dirs
match /vendor/atf/
  min revision 273930
  max revision 273930
end match
# wrong tag name
match /vendor/elftoolchain/r3163
  min revision 278899
  max revision 278901
end match
# got retried later on
match /vendor/ficl
  min revision 282768
  max revision 282800
end match
match /vendor-crypto/openssh/dist/
  min revision 285035
  max revision 285035
end match
# wrong name
match /(vendor)/(NetBSD)/(libedit)/2016-01-16/
  min revision 295361
  max revision 295361
  repository freebsd-base.git
  branch refs/tags/\1/\2/\3/2016-01-30
  annotated true
end match
match /vendor/openresolv/dist/
  min revision 296165
  max revision 296165
end match

# skip rename of previous
match /vendor/NetBSD/libedit/
  min revision 296551
  max revision 296551
end match
# deleting a tag is futile
match /vendor/NetBSD/libedit/
  min revision 296500
  max revision 296500
end match
# wrong tags
match /vendor/ldns-host/hg-(20160501|20160610).*
  min revision 301756
  max revision 301827
end match
match /vendor/llvm/llvm-release_3939-r287912/
  min revision 309153
  max revision 309153
end match
# tag was re-spun
match /vendor-sys/ck/20161128/
  min revision 309261
  max revision 309261
end match
# re-does the tag to the exact same content as before, skip it
match /vendor/NetBSD/libedit/2016-02-27/
  min revision 312996
  max revision 312996
end match
# props stuff
match /vendor-crypto/openssh/dist/
  min revision 313153
  max revision 313155
end match
# botched tag
match /vendor/libarchive/3.3.2/
  min revision 320925
  max revision 320925
end match
# wrongly done import, later deleted
match /vendor/zstd/
  min revision 322780
  max revision 322780
end match
# byacc lua confusion
match /(vendor)/(byacc|lua)/
  min revision 326345
  max revision 326351
end match
# keywords removal, also on the tag :/
match /vendor/tcpdump/
  min revision 326627
  max revision 326627
end match
# botched import and tag
match /vendor/acpica/20180105/
  max revision 327601
end match
match /vendor-crypto/openssl/dist/
  min revision 329021
  max revision 329021
end match
# autoprops removal
match /vendor/unbound/dist/
  min revision 333531
  max revision 333531
end match
# tag, change of SVN metadata that doesn't concern git, tag deletion
match /vendor/llvm/
  min revision 336810
  max revision 336812
end match
# wrong tag, later deleted.
match /vendor/file/5.34/
  max revision 336861
end match
match /vendor/libcxxrt/dist/
  min revision 337298
  max revision 337298
end match

# was later re-done
match /vendor/tzdb/
  min revision 337683
  max revision 337693
end match
# mandoc rename is handled already
match /vendor/
  min revision 338818
  max revision 338818
end match
# wrong tag
match /vendor/libarchive/
  min revision 338908
  max revision 338909
end match
# botched tag
match /vendor/libarchive/3.4.0/
  min revision 348972
  max revision 348972
end match
# botched tag
match /vendor-sys/
  min revision 327600
  max revision 327601
end match
# don't import binary backup file crap
match /vendor-crypto/heimdal/dist/cf/\._lt.*
  min revision 331978
  max revision 331978
end match
# this was done exactly the wrong way round, need to revert it, but also use a
# recurse rule to skip the actual SVN copy and make the commit into dist/ a
# regular old commit and not re-set the branch (which would lose the parent commit)
match /(vendor)/(opencsd)/a1961c91b02a92f3c6ed8b145c636ac4c5565aca/$
  action recurse
  min revision 353391
  max revision 353391
  repository freebsd-base.git
  branch \1/\2/dist
end match
match /(vendor)/(opencsd)/a1961c91b02a92f3c6ed8b145c636ac4c5565aca/
  min revision 353391
  max revision 353391
  repository freebsd-base.git
  branch \1/\2/dist
  # This is no longer in the tag, but as this didn't go into dist, but later
  # fully replaced dist, we need to clean it up manually.
  delete decoder/include/ocsd_if_version.h
end match
match /(vendor)/(opencsd)/dist/
  min revision 353392
  max revision 353392
  repository freebsd-base.git
  branch refs/tags/\1/\2/a1961c91b02a92f3c6ed8b145c636ac4c5565aca
  annotated true
end match
# skip vendor deletions, we want the named branches so that the merge points
# have a "name" attached to them.
match /vendor/
  min revision 358837
  max revision 358847
end match
# something was missing ...
match /(vendor)/(1.14)/
  repository freebsd-base.git
  branch refs/tags/\1/bsnmp/\2
  annotated true
  max revision 359491
end match
# but skip the rename
match /vendor/
  min revision 359492
  max revision 359492
end match
# never move tags to /backups/
# we also need to not add new tags for the old tags, it messes up the notes in
# fix_bogus_tags later on.
match /vendor/bl.cklist/(20160409|20170503|20191106)/
  min revision 362196
  max revision 362196
end match
match /vendor/NetBSD/bl.cklist/
  min revision 362196
  max revision 362196
end match
match /vendor/bc/
  min revision 362986
  max revision 362986
end match
# tagged too soon
match /vendor/bc/3.1.5/
  min revision 363896
  max revision 363898
end match

# never merged, later deleted.
match /vendor/fsx/
end match

# `unknown` vendor is one level short
match /(vendor)/(unknown)/
  repository freebsd-base.git
  branch \1/\2
end match

# r282579 renamed a whole bunch of vendor branches and results in backup tags.
# r282582 and r282585 moved some more.
# r253716 is also relevant here, resurrecting the deleted gnu-patch. Map the old
# branches to the new ones already, with the twist of removing the redundant
# "gnu" from gnu-sort.
# We need to skip the actual moves, as they moved roots in SVN that don't exist
# in git and the exporter gets confused by that.
# Note that while we could use a recurse rule to skip the deleting and do the
# proper thing for the additions, somehow this does not result in the actual
# SVN revision commit message to be created as a commit on the various
# branches. This is bad in that the history of when the move was done is lost.
# So we can also just skip the move revisions entirely. :/
### match /(vendor)/(awk|bc|bison|cpio|gnu-sort|patch|tar)/
### min revision 282579
### max revision 282579
### end match
### match /(vendor)/misc-GNU/(awk|bc|bison|cpio|gnu-sort|patch|tar)/$
### min revision 282579
### max revision 282579
### action recurse
### end match
match /vendor/
min revision 282579
max revision 282579
end match
match /vendor/
min revision 282582
max revision 282582
end match
match /vendor/
min revision 282584
max revision 282584
end match
match /vendor/
min revision 282585
max revision 282585
end match
# Re-tag a bunch of erroneous tags
match /(vendor)/(NetBSD)/(libc-vis)/(20121412)(a?)/
  min revision 244230
  max revision 248298
  repository freebsd-base.git
  branch refs/tags/\1/\2/\3/20121214\5
  annotated true
end match
match /(vendor)/(NetBSD)/(libc-vis)/(20132102)/
  min revision 244230
  max revision 248298
  repository freebsd-base.git
  branch refs/tags/\1/\2/\3/20130221
  annotated true
end match
match /(vendor)/(NetBSD)/(u?n?vis)/(20132102)/
  min revision 244230
  max revision 248298
  repository freebsd-base.git
  branch refs/tags/\1/\2/\3/20130221
  annotated true
end match
match /vendor/NetBSD/
  min revision 248299
  max revision 248301
end match
# This revision reverts a deletion that we skipped earlier, but this causes the
# git branch to be reset, which we don't want. Sooo, recurse instead ...
match /vendor/patch/dist/$
  min revision 253716
  max revision 253716
  action recurse
end match
match /(vendor)/(patch)/(dist)/
  min revision 253716
  max revision 253716
  repository freebsd-base.git
  branch \1/misc-GNU/\2/\3
end match
match /(vendor)/(awk|bc|bison|cpio|cvs|diff|patch|tar|texinfo)/((?!dist)[^/]+)/
  # we'll get a BSD licensed bc under /vendor/bc with r362697, so make sure we
  # don't match that then.
  max revision 282585
  repository freebsd-base.git
  branch refs/tags/\1/misc-GNU/\2/\3
  annotated true
end match
match /(vendor)/(awk|bc|bison|cpio|cvs|diff|patch|tar|texinfo)/([^/]+)/
  max revision 282585
  repository freebsd-base.git
  branch \1/misc-GNU/\2/\3
end match
match /(vendor)/gnu-(sort)/((?!dist)[^/]+)/
  max revision 282585
  repository freebsd-base.git
  branch refs/tags/\1/misc-GNU/\2/\3
  annotated true
end match
match /(vendor)/gnu-(sort)/([^/]+)/
  max revision 282585
  repository freebsd-base.git
  branch \1/misc-GNU/\2/\3
end match
match /(vendor)/(misc-GNU)/(awk|bc|bison|cpio|cvs|patch|tar|texinfo)/((?!dist)[^/]+)/
  repository freebsd-base.git
  branch refs/tags/\1/\2/\3/\4
  annotated true
end match
match /(vendor)/(misc-GNU)/(awk|bc|bison|cpio|cvs|patch|tar|texinfo)/([^/]+)/
  repository freebsd-base.git
  branch \1/\2/\3/\4
end match
match /(vendor)/(misc-GNU)/gnu-(sort)/((?!dist)[^/]+)/
  repository freebsd-base.git
  branch refs/tags/\1/\2/\3/\4
  annotated true
end match
match /(vendor)/(misc-GNU)/gnu-(sort)/([^/]+)/
  repository freebsd-base.git
  branch \1/\2/\3/\4
end match
match /(vendor)/(lukemftpd?|sort)/((?!dist)[^/]+)/
  repository freebsd-base.git
  branch refs/tags/\1/NetBSD/\2/\3
  annotated true
end match
match /(vendor)/(lukemftpd?|sort)/([^/]+)/
  repository freebsd-base.git
  branch \1/NetBSD/\2/\3
end match
# 4-levels for some of them
match /(vendor)/(NetBSD)/(bl.cklist|bmake|libc-pwcache|libc-vis|libedit|libexecinfo|lukemftpd?|mknod|mtree|softfloat|sort|tests|unvis|vis|xlint)/((?!dist)[^/]+)/
  repository freebsd-base.git
  branch refs/tags/\1/\2/\3/\4
  annotated true
end match
match /(vendor)/(NetBSD)/(bl.cklist|bmake|libc-pwcache|libc-vis|libedit|libexecinfo|lukemftpd?|mknod|mtree|softfloat|sort|tests|unvis|vis|xlint)/([^/]+)/
  repository freebsd-base.git
  branch \1/\2/\3/\4
end match

# skip the branch off of head for this vendor branch
match /(vendor)/(Juniper)/(libxo)/(dist)/
  min revision 296962
  max revision 296962
  branchpoint none
  repository freebsd-base.git
  branch \1/\2/\3/\4
end match
match /(vendor)/(Juniper|google)/([^/]+)/((?!dist)[^/]+)/
  repository freebsd-base.git
  branch refs/tags/\1/\2/\3/\4
  annotated true
end match
match /(vendor)/(Juniper|google)/([^/]+)/([^/]+)/
  repository freebsd-base.git
  branch \1/\2/\3/\4
end match

# test directory that should've gone under dist/test
match /vendor/(libz|zlib)/test/
end match
# import and tag of 1.2.9 got later clobbered by renaming libz to zlib, but
# from an older revision. It was also never merged to head.
match /vendor/libz/
  min revision 311043
  max revision 311276
end match
match /vendor/zlib/
  min revision 311264
  max revision 311264
end match
# zlib, libz, what's the difference?
match /(vendor)/(libz)/((?!dist)[^/]+)/
  repository freebsd-base.git
  branch refs/tags/\1/zlib/\3
  annotated true
end match
match /(vendor)/(libz)/([^/]+)/
  repository freebsd-base.git
  branch \1/zlib/\3
end match

# fix wrong import, skip the move afterwards
match /(vendor)/(edk2)/
  repository freebsd-base.git
  branch \1/\2/dist
  max revision 314879
end match
match /vendor/edk2/
  min revision 314880
  max revision 314880
end match

match /(vendor)/(mandoc|mdocml)/((?!dist)[^/]+)/
  repository freebsd-base.git
  branch refs/tags/\1/mandoc/\3
  annotated true
end match
match /(vendor)/(mandoc|mdocml)/([^/]+)/
  repository freebsd-base.git
  branch \1/mandoc/\3
end match

# Pull up a chair, let me tell you a story. There was the opensolaris vendor,
# first imported under vendor-cddl and everything was great. r194442 then split
# this between vendor and vendor-sys for the userland and kernel parts
# respectively. Both were later copied over to illumos, as the project was
# renamed. We here merge the userland/kernel bits together, as the git merges
# are to the full branch anyway and don't distinguish between merges to / or
# /sys in the src tree. We need to skip the file deletions of accidental cross
# commits though.
# Additionally there is a backup tag, because:
# - r178476: import into vendor-cddl/opensolaris
# - r194442: split into vendor/opensolaris and vendor-sys/opensolaris
# - r237833: vendor/opensolaris was copied to vendor/illumos
# - some modifications go in
# - r237860: vendor/illumos merges to master
# - ...
# - r238422: vendor/illumos merges to master
# - ...
# - r238446: vendor-sys/opensolaris/dist is copied to vendor-sys/illumos/dist. No one cares, as this was never used in any merge to master
# - r238447: some "kernel" files are removed from vendor/illumos
# - r238569: deletes vendor-sys/illumos/dist again.
# - r238570: vendor-sys/opensolaris is again copied to vendor-sys/illumos
# - r238457: vendor/illumos merges to master
# - r238558: vendor/illumos merges to master
# - r238576: vendor/illumos is deleted (!)
# - r238577: vendor/opensolaris is again copied to vendor/illumos
# - ...
# - r238926: merges from vendor/illumos *and* vendor-sys/illumos to master

# First try
# This approach doesn't work, there are 2 branches in SVN and having 1 in git
# means the former branch gets "reset". The contents will then also not be merged.
# It might be possible to have 1 unified branch though, skipping all branch
# copies (but also the tags, potentially)
#X#match /vendor.*/
#X#  min revision 194443
#X#  max revision 194443
#X#end match
#X#match /vendor.*/
#X#  min revision 238446
#X#  max revision 238447
#X#end match
#X## NOTE: skipping the deletion here, but the following rev will still reset
#X## the git branch, resulting in a backup tag and not recording the "parent"
#X## properly. Probably needs a serious hack into the git fast-import stream.
#X#match /vendor.*/
#X#  min revision 238569
#X#  max revision 238569
#X#end match
#X#match /(vendor|vendor-cddl|vendor-sys)/(illumos|opensolaris)/([^/]+)/
#X#  repository freebsd-base.git
#X#  # Note that this merges e.g. vendor/illumos and vendor-sys/illumos, which
#X#  # share the same file common/avl/avl.c but one has a newer version than the
#X#  # other. This should be fine. Ditto for opensolaris.
#X#  branch vendor/\2/\3
#X#end match

# Second try, creating 2 git branches from the 1 SVN branch (which was later
# chopped in two). Also doesn't work, as the tag to create 20080410a is done on
# the top-level SVN dir, and that then doesn't exist in git.
#
# The big move from vendor-cddl into vendor & vendor-sys
#X#match /vendor(-sys)?/
#X#  min revision 194442
#X#  max revision 194442
#X#end match
#X#match /vendor-cddl/(opensolaris)/(20080410a)/
#X#  repository freebsd-base.git
#X#  branch vendor-cddl/\2/\3
#X#end match
#X#match /vendor-cddl/(opensolaris)/([^/]+)/sys/cddl/contrib/opensolaris/
#X#  repository freebsd-base.git
#X#  branch vendor-sys/\1/\2
#X#  max revision 194441
#X#end match
#X#match /vendor-cddl/(opensolaris)/([^/]+)/cddl/contrib/opensolaris/
#X#  repository freebsd-base.git
#X#  branch vendor/\1/\2
#X#  max revision 194441
#X#end match

# 3rd try, secret sauce is the recurse rule to make the branch copies work.
# move/split into 2 branches
match /vendor(-sys)?/opensolaris/
  min revision 194442
  max revision 194443
end match
# only changes svn props
match /vendor(-sys)?/opensolaris/
  min revision 194445
  max revision 194445
end match
# now duplicate tag
match /vendor(-sys)?/opensolaris/
  min revision 194452
  max revision 194452
end match
match /vendor-cddl/(opensolaris)/(20080410a?)/(sys/)?cddl/contrib/opensolaris/
  repository freebsd-base.git
  branch refs/tags/vendor/\1/\2
  annotated true
end match
match /vendor-cddl/opensolaris/dist/
  # this one is redundant with r179191 (which got merged to head)
  min revision 179193
  max revision 179193
end match
match /vendor-cddl/(opensolaris)/(20080410a?)/
  action recurse
  min revision 178530
  max revision 179195
end match
match /vendor-cddl/(opensolaris)/([^/]+)/(sys/)?cddl/contrib/opensolaris/
  repository freebsd-base.git
  branch vendor/\1/\2
  max revision 194441
end match
match /vendor-sys/(opensolaris)/((?!dist)[^/]+)/
  repository freebsd-base.git
  branch refs/tags/vendor/\1/\2
  annotated true
  min revision 194445
end match
match /vendor-sys/(opensolaris)/([^/]+)/
  repository freebsd-base.git
  branch vendor/\1/\2
  min revision 194445
end match
# tagging 1 branch is enough, need to match the -sys branch, as that was copied
# from r238567 whereas non-sys was copied from r238566
match /vendor/opensolaris/20100818/
  min revision 238568
  max revision 238568
end match
match /vendor(?:-sys)/(opensolaris)/(20100802|20100818)/
  repository freebsd-base.git
  branch refs/tags/vendor/\1/\2
  annotated true
end match

# opensolaris got copied into illumos
# ignore first branch that was deleted w/o any merges
match /vendor-sys/illumos/
  min revision 238446
  max revision 238569
end match
# deletion of "kernel parts"
match /vendor/illumos/
  min revision 238447
  max revision 238447
end match

# Copy the kernel bits over carefully, w/o clobbering stuff in the existing
# common/ subdir.
match /vendor-sys/(illumos)/(dist)/(common/)*$
  min revision 238570
  max revision 238570
  action recurse
end match
match /vendor-sys/(illumos)/(dist)/
  min revision 238570
  max revision 238570
  repository freebsd-base.git
  branch vendor/\1/\2
end match

# we'll take the tag from r238579 instead.
match /vendor(-sys)*/illumos/20100818/
  min revision 238571
  max revision 238571
end match
# Skip deletion and make the following re-copy surgical.
match /vendor/illumos/dist/
  min revision 238576
  max revision 238576
end match
# WARNING, this leaves an extra man/ subdir that was there previously, but not
# in the copy source :/ We could probably delete it with r238576 by recursing
# into the man/ dir only. The history would look weird though.
# The missing manpages were later brought back in r238580 and r238581, so this
# will sort itself out. The tag 20100818 is not quite right though, ¯\_(ツ)_/¯
match /vendor/(illumos)/(dist)/(common/)*$
  min revision 238577
  max revision 238577
  action recurse
end match
match /vendor/(illumos)/(dist)/
  min revision 238577
  max revision 238577
  repository freebsd-base.git
  branch vendor/\1/\2
end match
# tag will be created in r238585 from /vendor/ instead
match /vendor-sys/illumos/20120614/
end match
# file got added twice, deleted once. Skip 2 revisions
# note that r267931 will fall through, as it has a different /vendor/ prefix
match /vendor-sys/illumos/dist/
  min revision 267930
  max revision 267932
end match
match /vendor(?:-sys)?/(illumos)/((?!dist)[^/]+)/
  repository freebsd-base.git
  branch refs/tags/vendor/\1/\2
  annotated true
end match
match /vendor(?:-sys)?/(illumos)/([^/]+)/
  repository freebsd-base.git
  branch vendor/\1/\2
end match

# Because we flatten the vendor + vendor-sys namespace, some tags need to be
# skipped, as they will be tagged in a later revision.
# The rules could be collapsed and written in a much more clever way, but KISS.
match /vendor-sys/ngatm/0.9/
  max revision 121328
end match
match /vendor-sys/ngatm/0.91/
  max revision 122210
end match
match /vendor/ngatm/1.0/
  max revision 131825
end match
match /vendor/ngatm/1.1/
  max revision 133490
end match
match /vendor/ngatm/1.2/
  max revision 146534
end match
match /vendor(?:-sys)?/(ngatm)/((?!dist)[^/]+)/
  repository freebsd-base.git
  branch refs/tags/vendor/\1/\2
  annotated true
end match
match /vendor(?:-sys)?/(ngatm)/([^/]+)/
  repository freebsd-base.git
  branch vendor/\1/\2
end match

# This doesn't work for pf, as the tags for 4.2--4.4 were interleaved between
# userland and kernel, so we can't easily make the tag represent the unified
# view.
#X#match /vendor-sys/pf/3.4/
#X#  max revision 126260
#X#end match
#X#match /vendor-sys/pf/3.5/
#X#  max revision 130612
#X#end match
#X#match /vendor-sys/pf/3.7/
#X#  max revision 145835
#X#end match
#X#match /vendor-sys/pf/4.1/
#X#  max revision 171166
#X#end match
#X#match /vendor/pf/4.2/
#X#  max revision 185877
#X#end match
#X#match /vendor/pf/4.3/
#X#  max revision 185881
#X#end match
#X#match /vendor/pf/4.4/
#X#  max revision 185883
#X#end match

# IPFilter is weird, the kernel parts are committing to
# vendor-sys/ipfilter/dist *and* vendor-sys/ipfilter/dist-old. The tags come
# from the latter path. There was some CVS muckery afoot.
# The kernel tags also use dashes and underscores for the tags, the userland part uses dots.
# But wait, the dist-old is used in tagging for all tags up to and including
# v3-4-16, but not for 3-4-20 onward, except for v3-4-29 it's being used again,
# but that tag is duplicated 3-4-29 also.
# On top of that, r253467 flattened everything, including the tags. We want to
# skip this for git, so that the tags actually point to the revisions that were
# merged in a `git log` output.
# As with pf though, there is sadly 1 interleaved tag, where user/kernel for
# 3.1.7 and 3.1.8 were not done in strict sequence, so a faithful merged
# representation of those two would need post-processing.

# Skip the flattening of non-dist tags, it's pointless and needlessly advances
# the tag refs off the mainline branch.
match /vendor(-sys)?/ipfilter/[^d][^/]*/
  min revision 253467
  max revision 253468
end match
# no flattening and keyword expansion frobbing on the abandoned dist.
match /vendor-sys/ipfilter/dist-old/
  min revision 253467
end match
# ipfilter sys code was repocopied around, first it lived in
# sys/netinet/ then it was moved to sys/contrib/ipfilter/netinet/
# r77859 deleted the leftover copies in /sys
match /head/sys/contrib/ipfilter/netinet/
  max revision 77858
end match
match /stable/4/
  min revision 77855
  max revision 77855
  repository freebsd-base.git
  branch stable/4
  rename sys/netinet/fil.c sys/contrib/ipfilter/netinet/fil.c
  rename sys/netinet/ip_auth.c sys/contrib/ipfilter/netinet/ip_auth.c
  rename sys/netinet/ip_auth.h sys/contrib/ipfilter/netinet/ip_auth.h
  rename sys/netinet/ip_compat.h sys/contrib/ipfilter/netinet/ip_compat.h
  rename sys/netinet/ip_fil.c sys/contrib/ipfilter/netinet/ip_fil.c
  rename sys/netinet/ip_fil.h sys/contrib/ipfilter/netinet/ip_fil.h
  rename sys/netinet/ip_frag.c sys/contrib/ipfilter/netinet/ip_frag.c
  rename sys/netinet/ip_frag.h sys/contrib/ipfilter/netinet/ip_frag.h
  rename sys/netinet/ip_ftp_pxy.c sys/contrib/ipfilter/netinet/ip_ftp_pxy.c
  rename sys/netinet/ip_log.c sys/contrib/ipfilter/netinet/ip_log.c
  rename sys/netinet/ip_nat.c sys/contrib/ipfilter/netinet/ip_nat.c
  rename sys/netinet/ip_nat.h sys/contrib/ipfilter/netinet/ip_nat.h
  rename sys/netinet/ip_proxy.c sys/contrib/ipfilter/netinet/ip_proxy.c
  rename sys/netinet/ip_proxy.h sys/contrib/ipfilter/netinet/ip_proxy.h
  rename sys/netinet/ip_raudio_pxy.c sys/contrib/ipfilter/netinet/ip_raudio_pxy.c
  rename sys/netinet/ip_rcmd_pxy.c sys/contrib/ipfilter/netinet/ip_rcmd_pxy.c
  rename sys/netinet/ip_state.c sys/contrib/ipfilter/netinet/ip_state.c
  rename sys/netinet/ip_state.h sys/contrib/ipfilter/netinet/ip_state.h
  rename sys/netinet/ipl.h sys/contrib/ipfilter/netinet/ipl.h
  rename sys/netinet/mlfk_ipl.c sys/contrib/ipfilter/netinet/mlfk_ipl.c
end match
match /head/
  min revision 77859
  max revision 77859
  repository freebsd-base.git
  branch master
  rename sys/netinet/fil.c sys/contrib/ipfilter/netinet/fil.c
  rename sys/netinet/ip_auth.c sys/contrib/ipfilter/netinet/ip_auth.c
  rename sys/netinet/ip_auth.h sys/contrib/ipfilter/netinet/ip_auth.h
  rename sys/netinet/ip_compat.h sys/contrib/ipfilter/netinet/ip_compat.h
  rename sys/netinet/ip_fil.c sys/contrib/ipfilter/netinet/ip_fil.c
  rename sys/netinet/ip_fil.h sys/contrib/ipfilter/netinet/ip_fil.h
  rename sys/netinet/ip_frag.c sys/contrib/ipfilter/netinet/ip_frag.c
  rename sys/netinet/ip_frag.h sys/contrib/ipfilter/netinet/ip_frag.h
  rename sys/netinet/ip_ftp_pxy.c sys/contrib/ipfilter/netinet/ip_ftp_pxy.c
  rename sys/netinet/ip_log.c sys/contrib/ipfilter/netinet/ip_log.c
  rename sys/netinet/ip_nat.c sys/contrib/ipfilter/netinet/ip_nat.c
  rename sys/netinet/ip_nat.h sys/contrib/ipfilter/netinet/ip_nat.h
  rename sys/netinet/ip_proxy.c sys/contrib/ipfilter/netinet/ip_proxy.c
  rename sys/netinet/ip_proxy.h sys/contrib/ipfilter/netinet/ip_proxy.h
  rename sys/netinet/ip_raudio_pxy.c sys/contrib/ipfilter/netinet/ip_raudio_pxy.c
  rename sys/netinet/ip_rcmd_pxy.c sys/contrib/ipfilter/netinet/ip_rcmd_pxy.c
  rename sys/netinet/ip_state.c sys/contrib/ipfilter/netinet/ip_state.c
  rename sys/netinet/ip_state.h sys/contrib/ipfilter/netinet/ip_state.h
  rename sys/netinet/ipl.h sys/contrib/ipfilter/netinet/ipl.h
  rename sys/netinet/mlfk_ipl.c sys/contrib/ipfilter/netinet/mlfk_ipl.c
end match

# For the vendor area, r72001 imported things into two places and the
# following rev tags the new import (dropping the extra files in the old rev).
# I conclude thus that the the repo copy was done prior to r72001 and we can
# rename the old prefix in that rev. We need to suppress the new prefix in all
# earlier revisions also.
match /(vendor-sys)/(ipfilter)/(dist)(-old)?/
  max revision 72000
  repository freebsd-base.git
  branch \1/\2/\3
  rename sys/contrib /dev/null # old location was sys/netinet
end match
match /(vendor-sys)/(ipfilter)/(dist)(-old)?/
  min revision 72001
  max revision 72001
  repository freebsd-base.git
  branch \1/\2/\3
  rename sys/netinet sys/contrib/ipfilter/netinet
end match
# 3.4.29 was imported partially into dist-old again and merged into head in
# r102514 and r102515, three files only.
match /(vendor-sys)/(ipfilter)/(dist)(-old)?/
  min revision 102514
  max revision 102514
  repository freebsd-base.git
  branch \1/\2/\3
  rename sys/netinet/ip_h323_pxy.c sys/contrib/ipfilter/netinet/ip_h323_pxy.c
  rename sys/netinet/ip_ipsec_pxy.c sys/contrib/ipfilter/netinet/ip_ipsec_pxy.c
  rename sys/netinet/ip_netbios_pxy.c sys/contrib/ipfilter/netinet/ip_netbios_pxy.c
end match
match /(vendor-sys)/(ipfilter)/(dist)(-old)?/
  min revision 102516
  max revision 102516
  repository freebsd-base.git
  branch \1/\2/\3
  rename sys/netinet/fil.c sys/contrib/ipfilter/netinet/fil.c
  rename sys/netinet/ip_auth.c sys/contrib/ipfilter/netinet/ip_auth.c
  rename sys/netinet/ip_auth.h sys/contrib/ipfilter/netinet/ip_auth.h
  rename sys/netinet/ip_compat.h sys/contrib/ipfilter/netinet/ip_compat.h
  rename sys/netinet/ip_fil.c sys/contrib/ipfilter/netinet/ip_fil.c
  rename sys/netinet/ip_fil.h sys/contrib/ipfilter/netinet/ip_fil.h
  rename sys/netinet/ip_frag.c sys/contrib/ipfilter/netinet/ip_frag.c
  rename sys/netinet/ip_frag.h sys/contrib/ipfilter/netinet/ip_frag.h
  rename sys/netinet/ip_ftp_pxy.c sys/contrib/ipfilter/netinet/ip_ftp_pxy.c
  rename sys/netinet/ip_log.c sys/contrib/ipfilter/netinet/ip_log.c
  rename sys/netinet/ip_nat.c sys/contrib/ipfilter/netinet/ip_nat.c
  rename sys/netinet/ip_nat.h sys/contrib/ipfilter/netinet/ip_nat.h
  rename sys/netinet/ip_proxy.c sys/contrib/ipfilter/netinet/ip_proxy.c
  rename sys/netinet/ip_proxy.h sys/contrib/ipfilter/netinet/ip_proxy.h
  rename sys/netinet/ip_raudio_pxy.c sys/contrib/ipfilter/netinet/ip_raudio_pxy.c
  rename sys/netinet/ip_rcmd_pxy.c sys/contrib/ipfilter/netinet/ip_rcmd_pxy.c
  rename sys/netinet/ip_state.c sys/contrib/ipfilter/netinet/ip_state.c
  rename sys/netinet/ip_state.h sys/contrib/ipfilter/netinet/ip_state.h
  rename sys/netinet/ipl.h sys/contrib/ipfilter/netinet/ipl.h
  rename sys/netinet/mlfk_ipl.c sys/contrib/ipfilter/netinet/mlfk_ipl.c
end match
# r102519 is doing the actually correct tag.
match /vendor-sys/ipfilter/v3-4-29/
  min revision 102517
  max revision 102517
end match
match /(vendor-sys)/(ipfilter)/(dist)(-old)?/
  max revision 253468  # maybe use r102516 instead?
  repository freebsd-base.git
  branch \1/\2/\3
end match
# TODO: merge sys and non-sys for ipfilter?

# FIX VARIOUS CVS2SVN TAG ODDITIES CAUSED BY SLIPPING TAGS
#
# Before: the tag was slipped and cvs2svn got confused
#
# * c3805f6b60b 62d5c2fd0ac  2010-03-08 - (tag: vendor/openssh/5.4p1) Tag OpenSSH 5.4p1
# |       svn path=/vendor-crypto/openssh/5.4p1/; revision=204864
# | svn path=/vendor-crypto/openssh/5.4p1/; revision=204864; tag=vendor/openssh/5.4p1
# |
# | * f2d6adfba36 62d5c2fd0ac  2010-03-08 - Forgot to remove dead files
# |/        svn path=/vendor-crypto/openssh/dist/; revision=204863
# |
# * abacebb0f37 f3af5b582d9  2010-03-08 - Vendor import of OpenSSH 5.4p1
#         svn path=/vendor-crypto/openssh/dist/; revision=204861
#
# After: running fix_bogus_tags to hoist the tag up one notch:
#
# * f2d6adfba36c 62d5c2fd0acd  2010-03-08 - (tag: vendor/openssh/5.4p1) Forgot to remove dead files
# |       svn path=/vendor-crypto/openssh/dist/; revision=204863
# | svn path=/vendor-crypto/openssh/5.4p1/; revision=204864; tag=vendor/openssh/5.4p1
# |
# * abacebb0f379 f3af5b582d9a  2010-03-08 - Vendor import of OpenSSH 5.4p1
# |       svn path=/vendor-crypto/openssh/dist/; revision=204861

match /(vendor)-crypto/(openssh)/(5.4p1)/
  repository freebsd-base.git
  branch refs/tags/\1/\2/\3
  branchpoint vendor/openssh/dist@204863
  annotated true
end match
match /(vendor)/(cortex-strings)/(linaro-eb80ac)/
  repository freebsd-base.git
  branch refs/tags/\1/\2/\3
  branchpoint vendor/cortex-strings/dist@305889
  annotated true
end match

# We have some conflicting vendor names here, e.g. illumos, opensolaris, ngatm, pf, ipfilter.
match /(vendor-sys)/(ipfilter|pf)/((?!dist)[^/]+)/
  repository freebsd-base.git
  branch refs/tags/vendor/\2-sys/\3
  annotated true
end match
match /(vendor-sys)/(ipfilter|pf)/([^/]+)/
  repository freebsd-base.git
  branch vendor/\2-sys/\3
end match

# Turn non-dist directories into annotated tags. Except release-x under llvm-project isn't a tag.
match /(vendor)/(llvm-project)/(master|release-[0-9.x]+)/
  repository freebsd-base.git
  branch \1/\2/\3
end match
match /(vendor|vendor-sys|vendor-crypto)/([^/]+)/((?!dist)[^/]+)/
  repository freebsd-base.git
  branch refs/tags/vendor/\2/\3
  annotated true
end match

match /(vendor|vendor-sys|vendor-crypto)/([^/]+)/([^/]+)/
  repository freebsd-base.git
  # unify the prefix for other branches
  branch vendor/\2/\3
end match

match /(cvs2svn)/(branches)/([^/]+)/
  repository freebsd-base.git
  branch \1/\2/\3
end match

# I checked all of them, and 99% are garbage, some will be handled specially,
# the rest will be discarded.
match /(cvs2svn)/(tags)/([^/]+)/
end match

# See revisions.md for why the first cvs2svn generated branchpoint is bogus.
match /(releng)/(4.4)/
  min revision 57956
  max revision 57956
  repository freebsd-base.git
  branch \1/\2
  branchpoint none@212d1aae25966b1cb7769409e1ae97e626a32b95
end match
match /(releng)/(4.4)/
  min revision 83457
  max revision 83457
  repository freebsd-base.git
  branch \1/\2
  branchpoint stable/4@83457
end match
match /(releng)/(4.5)/
  min revision 57960
  max revision 57960
  repository freebsd-base.git
  branch \1/\2
  branchpoint none@212d1aae25966b1cb7769409e1ae97e626a32b95
end match
match /(releng)/(4.5)/
  min revision 90219
  max revision 90219
  repository freebsd-base.git
  branch \1/\2
  branchpoint stable/4@90219
end match
match /(releng)/(4.6)/
  min revision 63491
  max revision 63491
  repository freebsd-base.git
  branch \1/\2
  branchpoint none@46af6a7c2ce0bcd9dcf44adf8294180f757c1944
end match
match /(releng)/(4.6)/
  min revision 99348
  max revision 99348
  repository freebsd-base.git
  branch \1/\2
  branchpoint stable/4@99348
end match
match /(releng)/(4.7)/
  min revision 66473
  max revision 66473
  repository freebsd-base.git
  branch \1/\2
  branchpoint none@321ceddd22427da5dcc8f23e36aff460e535fa9e
end match
match /(releng)/(4.7)/
  min revision 104537
  max revision 104537
  repository freebsd-base.git
  branch \1/\2
  branchpoint stable/4@104537
end match
match /(releng)/(4.8)/
  min revision 111744
  max revision 111744
  repository freebsd-base.git
  branch \1/\2
  branchpoint none@abac6104eea0298a9468178d2a49f2cb7fff5cf6
end match
match /(releng)/(4.8)/
  min revision 112503
  max revision 112503
  repository freebsd-base.git
  branch \1/\2
  branchpoint stable/4@112503
end match
match /(releng)/(4.9)/
  min revision 101418
  max revision 101418
  repository freebsd-base.git
  branch \1/\2
  branchpoint none@a58dbd5fdfea98adcbf2e1add96fd61cbfa64661
end match
match /(releng)/(4.9)/
  min revision 121369
  max revision 121369
  repository freebsd-base.git
  branch \1/\2
  branchpoint stable/4@121369
end match
match /(releng)/(4.10)/
  min revision 108855
  max revision 108855
  repository freebsd-base.git
  branch \1/\2
  branchpoint none@189976367ccc628f7c92b7f10c09190fcf986b5e
end match
match /(releng)/(4.10)/
  min revision 128520
  max revision 128520
  repository freebsd-base.git
  branch \1/\2
  branchpoint stable/4@128520
end match
match /(releng)/(4.11)/
  min revision 101416
  max revision 101416
  repository freebsd-base.git
  branch \1/\2
  branchpoint none@a58dbd5fdfea98adcbf2e1add96fd61cbfa64661
end match
match /(releng)/(4.11)/
  min revision 139026
  max revision 139026
  repository freebsd-base.git
  branch \1/\2
  branchpoint stable/4@139026
end match
match /(releng)/(5.3)/
  min revision 133969
  max revision 133969
  repository freebsd-base.git
  branch \1/\2
  branchpoint none@b99ab05eb34f00ad805361803ba5ec1607b3a372
end match
match /(releng)/(5.3)/
  min revision 136588
  max revision 136588
  repository freebsd-base.git
  branch \1/\2
  branchpoint stable/5@136588
end match
match /(releng)/(5.4)/
  min revision 133971
  max revision 133971
  repository freebsd-base.git
  branch \1/\2
  # git show -s --format=none@%T `git log --format=%h --notes -n1 --grep='revision=133971$' releng/5.4`\~1
  branchpoint none@b99ab05eb34f00ad805361803ba5ec1607b3a372
end match
match /(releng)/(5.4)/
  min revision 145335
  max revision 145335
  repository freebsd-base.git
  branch \1/\2
  branchpoint stable/5@145335
end match
match /(releng)/(6.0)/
  min revision 147907
  max revision 147907
  repository freebsd-base.git
  branch \1/\2
  # git show -s --format=none@%T `git log --format=%h --notes -n1 --grep='revision=147907$' releng/6.0`\~1
  branchpoint none@01ec195a7173d8fedfd4ad521cb4ec0270d31c62
end match
match /(releng)/(6.0)/
  min revision 151174
  max revision 151174
  repository freebsd-base.git
  branch \1/\2
  branchpoint stable/6@151174
end match
match /(releng)/(6.1)/
  min revision 147908
  max revision 147908
  repository freebsd-base.git
  branch \1/\2
  # git show -s --format=none@%T `git log --format=%h --notes -n1 --grep='revision=147908$' releng/6.1`\~1
  branchpoint none@01ec195a7173d8fedfd4ad521cb4ec0270d31c62
end match
match /(releng)/(6.1)/
  min revision 158179
  max revision 158179
  repository freebsd-base.git
  branch \1/\2
  branchpoint stable/6@158179
end match
match /(releng)/(6.2)/
  min revision 147921
  max revision 147921
  repository freebsd-base.git
  branch \1/\2
  # git show -s --format=none@%T `git log --format=%h --notes -n1 --grep='revision=147921$' releng/6.2`\~1
  branchpoint none@01ec195a7173d8fedfd4ad521cb4ec0270d31c62
end match
match /(releng)/(6.2)/
  min revision 164286
  max revision 164286
  repository freebsd-base.git
  branch \1/\2
  branchpoint stable/6@164286
end match
match /(releng)/(6.3)/
  min revision 147922
  max revision 147922
  repository freebsd-base.git
  branch \1/\2
  # git show -s --format=none@%T `git log --format=%h --notes -n1 --grep='revision=147922$' releng/6.3`\~1
  branchpoint none@01ec195a7173d8fedfd4ad521cb4ec0270d31c62
end match
match /(releng)/(6.3)/
  min revision 173886
  max revision 173886
  repository freebsd-base.git
  branch \1/\2
  branchpoint stable/6@173886
end match
match /(releng)/(7.0)/
  min revision 172507
  max revision 172507
  repository freebsd-base.git
  branch \1/\2
  # git show -s --format=none@%T `git log --format=%h --notes -n1 --grep='revision=172507$' releng/7.0`\~1
  branchpoint none@5a0de7aea46575bd5fc596f9088d4af22f9287dc
end match
match /(releng)/(7.0)/
  min revision 174854
  max revision 174854
  repository freebsd-base.git
  branch \1/\2
  branchpoint stable/7@174854
end match

match /(release)/([0-9.]+)/
  repository freebsd-base.git
  branch refs/tags/\1/\2
  annotated true
end match
match /(releng)/ALPHA_2_0/
  repository freebsd-base.git
  branch \1/2.0a
end match
match /(releng)/BETA_2_0/
  repository freebsd-base.git
  branch \1/2.0b
end match
match /(stable|releng)/([0-9.]+)/
  repository freebsd-base.git
  branch \1/\2
end match

# record the fact that tip(1) was merged from vendor. The later merge in
# r161754 is sadly mis-attributed to r161752, but we don't bother patching that
# up.
match /head/
  min revision 88276
  max revision 88276
  repository freebsd-base.git
  branch master
  branchpoint vendor/OpenBSD/dist@88273
end match
# /head/contrib/patch was fully deleted in r128779, skip the partial delete,
# manufactured by cvs2svn
match /head/contrib/patch/
  min revision 128778
  max revision 128778
end match
# adds a needless merge and deletion
match /head/
  min revision 235378
  max revision 235379
end match
# Don't delete and revert ipfilter, it messes up git blame
match /head/
  min revision 288682
  max revision 288683
end match

match /head/
  repository freebsd-base.git
  branch master
end match
